<!-- build time:Fri Oct 07 2022 17:37:57 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="Or0kit" href="https://or0kit.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="Or0kit" href="https://or0kit.github.io/atom.xml"><link rel="alternate" type="application/json" title="Or0kit" href="https://or0kit.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="Linux"><link rel="canonical" href="https://or0kit.github.io/Linux/Linux-Reviewing/"><title>初学Linux - Linux | Or0kit</title><meta name="generator" content="Hexo 5.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">初学Linux</h1><div class="meta"><span class="item" title="创建时间：2020-12-31 19:23:08"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2020-12-31T19:23:08+08:00">2020-12-31</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>20k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>18 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Or0kit</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1gicivghyooj20zk0m8dir.jpg"></li><li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1giclx29mstj20zk0m8hdt.jpg"></li><li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1gipeuv80yoj20zk0m8kjl.jpg"></li><li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1gicitspjpbj20zk0m81ky.jpg"></li><li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1giciszlczyj20zk0m816d.jpg"></li><li class="item" data-background-image="https://tva2.sinaimg.cn/large/6833939bly1gipexbei4hj20zk0m8npd.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Linux/" itemprop="item" rel="index" title="分类于 Linux"><span itemprop="name">Linux</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://or0kit.github.io/Linux/Linux-Reviewing/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Or0kit"><meta itemprop="description" content=", 临渊羡鱼，不如退而结网"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Or0kit"></span><div class="body md" itemprop="articleBody"><h1 id="基础"><a class="anchor" href="#基础">#</a> 基础</h1><h2 id="linux是谁开发的-是用什么语言开发的-unix的开源精神"><a class="anchor" href="#linux是谁开发的-是用什么语言开发的-unix的开源精神">#</a> Linux 是谁开发的、是用什么语言开发的、Unix 的开源精神</h2><p>1991 年 Linus Torvalds（林纳斯。托瓦兹）写出 Linux 内核的第一个版本；<br>1992 年第一个发行版出现；<br>GNU/Linux 系统 = Linux 内核 + GNU；发行版有：Red Hat,Debain,Suse,Mandrake,Redflag...<br>GNU：即革奴计划，由理查德。斯托曼发起，目标是创建一套完全自由的操作系统；<br>其他：EMACS、Copyleft</p><h2 id="mbr简介"><a class="anchor" href="#mbr简介">#</a> MBR 简介</h2><p>一块硬盘最多拥有 4 个主分区 (包括扩展分区)。这是</p><p>ps: 44 页前</p><h1 id="linux下的shell相关的操作"><a class="anchor" href="#linux下的shell相关的操作">#</a> Linux 下的 shell 相关的操作</h1><p>shell 是 Linux 系统的一个重要组成部分。在 Linux 系统中，shell 就是一组介于用户与 Linux 内核之间的系统程序。shell 是用户与 Linux 内核之间的接口。</p><h2 id="shell的分类"><a class="anchor" href="#shell的分类">#</a> shell 的分类</h2><p>hell 有着不同的分类，比如 Bourne shell（sh），Korn shell（ksh）、C shell （csh）、Bourne-again shell（bash）、tcsh。其中最常用的有 csh 和 bash，其提示符如下：<br>sh–Bash ：#root $user<br>csh–:#root %user</p><h2 id="简单的shell命令"><a class="anchor" href="#简单的shell命令">#</a> 简单的 shell 命令</h2><p>Linux 命令又称 shell 命令。</p><h3 id="语法"><a class="anchor" href="#语法">#</a> 语法</h3><p>命令名 【选项】 【参数】</p><p>命令行输入的第一个字必须是一个命令的名字，第二个字是明明令的选项或参数，命令行中的每个字必须有空格隔开。【选项】的方括号表示语法上选项是可有可无的。选项旺旺包括一个或多个英文字母，在字母前面必须有一个减号【减号是必须的，Linux 用它来区分选项和参数，参数是不带减号的】</p><h3 id="pwd"><a class="anchor" href="#pwd">#</a> pwd</h3><p>格式：pwd（print work directory 缩写）</p><p>功能：显示当前目录的绝对路径。</p><h3 id="cd"><a class="anchor" href="#cd">#</a> cd</h3><p>格式：cd 【目录】<br>功能：切换到指定目录。</p><p>‘change directory’的缩写</p><p>cd ../ 返回到上一级目录<br>cd 不带任何参数表示返回到家目录<br>cd - <em><strong>返回上一个目录</strong></em>。</p><h3 id="ls"><a class="anchor" href="#ls">#</a> ls</h3><p>格式：ls 【选项】 【文件 | 目录】<br>功能：显示指定目录下的内容。内容包括该目录下的文件和子目录。当不指定目录时，默认显示当前面目录下中的文件和子目录信息。‘list’的缩写。</p><p>主要选项：<br>-a 显示所有文件和子目录，包括隐藏文件和隐藏自子目录。Linux 下的隐藏文件和隐藏子目录以‘.’开头。<br>-l 显示文件和子目录详细信息，即以长格式显示，包括文件类型、权限、拥有人和拥有组、文件大小、最近一次修改时间、文件名等信息。<br>-d 参数应该是目录，只显示目录的信息，而不显示其中所包含的文件机子目录的信息，该选项通常与‘-l’一起使用，后接目录名，功能是以长格式显示目录信息。<br>-R 不仅显示指定目录下的文件和子目录信息，而且还递归地显示各子路录下的文件和子目录信息。<br>-t 按照时间顺序显示文件，新的文件排在前面。ls 命令默认按照字母顺序排列。<br>--help 查看帮助信息。</p><h3 id="date"><a class="anchor" href="#date">#</a> date</h3><p>格式：date【+FORMAT】 或 date 【MMDDhhmm【YY】【YYYY】】<br>功能：查看或修改系统时间。</p><p>date 命令显示的内容依次是星期、月份、小时、分钟、秒、时区和年份。</p><h3 id="cal"><a class="anchor" href="#cal">#</a> cal</h3><p>格式：cal【YYYY】<br>功能：显示日历<br>显示本月的日历。若参数为年份，则显示该年的日历。</p><h3 id="who"><a class="anchor" href="#who">#</a> who</h3><p>格式：who<br>功能：显示当前已登录到系统的所有用户名及其终端名和登录到系统的时间。</p><h3 id="clear"><a class="anchor" href="#clear">#</a> clear</h3><p>格式：clear<br>功能：清楚当前终端的屏幕内容。<br>也可以使用快捷组合键 Ctrl + L</p><h2 id="获取帮助"><a class="anchor" href="#获取帮助">#</a> 获取帮助</h2><h3 id="whatis"><a class="anchor" href="#whatis">#</a> whatis</h3><p>格式：whatis 命令名<br>功能： 查询某命令的简单功能。</p><p>但该命令信息量较少，且该命令是基于数据库的查询，对于刚安装的命令则查询不到，等到系统更新后才能查到。若要立即查询，则使用 makewhatis 立即生效更新数据库，然后再用该命令进行查询。</p><h3 id="-help"><a class="anchor" href="#-help">#</a> --help</h3><p>格式： 命令名 --help<br>功能：显示指定命令的帮助信息。</p><h3 id="man"><a class="anchor" href="#man">#</a> man</h3><p>格式：man 命令名<br>功能：显示指定命令的手册页帮助信息。</p><h3 id="info"><a class="anchor" href="#info">#</a> info</h3><p>格式：info 命令名<br>功能：查询命令的用法合作文件的格式。</p><h3 id="usrsharedoc"><a class="anchor" href="#usrsharedoc">#</a> /usr/share/doc</h3><p>帮助文档就位于 /usr/share/doc 目录下。</p><p>以上获取帮助的方法，man 命令是最常使用的。</p><h2 id="bash变量"><a class="anchor" href="#bash变量">#</a> bash 变量</h2><h3 id="变量的设置与引用"><a class="anchor" href="#变量的设置与引用">#</a> 变量的设置与引用</h3><p>变量名 = 值</p><p>引用格式为 “<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>变量名”或者“</mtext></mrow><annotation encoding="application/x-tex">变量名”或者“</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord cjk_fallback">变</span><span class="mord cjk_fallback">量</span><span class="mord cjk_fallback">名</span><span class="mord">”</span><span class="mord cjk_fallback">或</span><span class="mord cjk_fallback">者</span><span class="mord">“</span></span></span></span>{变量名}”，一般情况下可以不用加大括号，但有些情况下必须要加大括号。</p><p>echo $Atest 将 Atest 当作一个变量；<br>echo ${A} test test 将在变量 A 之后。</p><h3 id="环境变量"><a class="anchor" href="#环境变量">#</a> 环境变量</h3><p>系统中影响到 bash 环境的变量被称为环境变量。可以使用 env 或 export 来查阅系统默认的环境变量。</p><p>常用的环境变量</p><ol><li><p>PS1: 系统提示符环境变量。</p></li><li><p>HISTSIZE: 默认保存的历史记录数。</p></li><li><p>PATH: 执行文件查找的路径。<br>PATH 的值都是一些目录，目录与目录之间以冒号（:）分隔，由于文件的查找是依序有 PATH 变量内的目录来查找的，所以目录的顺序也很重要。</p></li><li><p>USER: 当前登录的用户。</p></li><li><p>HOME: 当前用户的家目录。</p></li><li><p>EUID: 当前用户的 UID</p></li></ol><h2 id="与shell有关的配置文件"><a class="anchor" href="#与shell有关的配置文件">#</a> 与 shell 有关的配置文件</h2><ol><li><p>/etc/profile 文件、这是系统最重要的 shell 配置文件，也是用户登录系统最先检查的文件，系统的环境变量多定义在此文件中，主要包括 PATH、USER、LANG、MAIL、HOSTNAME、HISTSIZE 和 INPUTRC。</p></li><li><p>~/.bash_profile 文件。每个用户的 bash 环境配置文件，存在于用户目录的家目录下，当系统运行 /etc/profile/ 后，将读取此文件的内容，此文件定义了 USER、EUID、HOME、PATH 等环境变量，此处的 PATH 包括了用户自己定义的路径以及用户的 “bin” 路径</p></li><li><p>~/.bashrc 文件。 前两个文件仅在系统登录时读取。此文件在每次运行 bash 是读取，此文件主要定义的是一些终端设置以及 Shell 提示符等。而不定义环境变量等内容。</p></li><li><p>~/.bash_history 文件。该文件保存了用户的历史记录。</p></li></ol><h2 id="历史记录命令"><a class="anchor" href="#历史记录命令">#</a> 历史记录命令</h2><p>可以利用上下方向键调出已经执行过的 Shell 命令。</p><p>还可以用 history 命令查看 Shell 命令的历史记录</p><p>格式：history【数字】<br>功能：查看 Shell 命令的历史记录。如果指定参数则查看最近执行过的指定个数的 Shell 命令</p><p>还有 '!' 也可以调出一执行过的 Shell 命令。<br>格式：! 序号<br>功能：执行指定序号的 Shell 命令，‘!’ 后面也可以跟字符串来调用已执行过的以该字符串开头的 Shell 命令。</p><p>~<br><font color="red">在 ContOS7 上不知道为什么不能用 '!' 命令，man 命令提示没有 '!' 命令手册</font><br>~<br>原来是感叹号与后面的的序号之间没有空格。</p><p>!! 是执行上一条命令</p><h2 id="通配符"><a class="anchor" href="#通配符">#</a> 通配符</h2><p>* : 通配 0 个或多个字符</p><p>？ ：通配任意单个字符</p><p><code>* ？ [] - !</code> 可以组成字符组。</p><p>例子：</p><p>ls *.png 列出所有 PNG 图片</p><p>ls a? 列出首字母是 a, 文件名只有两个字符的所有文件</p><p>ls [abc]* 列出首字母是 a、b、c 的所有文件</p><h2 id="别名"><a class="anchor" href="#别名">#</a> 别名</h2><p>格式： alinas 【别名 =‘标准 Shell 命令行’】<br>功能：查看和设置别名</p><p>不加参数时查看别名。</p><h2 id="去除特殊符号的意义"><a class="anchor" href="#去除特殊符号的意义">#</a> 去除特殊符号的意义</h2><p>Linux 系统中有许多符号具有特殊的含义。如！表示去历史记录，$ 表示取变量的值，`` 反引号表示取命令的执行结果，等等。</p><p>三种方法可以去除特殊符号的意义</p><ol><li>反斜杠 \</li><li>单引号 ('') 使任何特殊字符都不转义，原样输出。</li><li>双引号 (&quot;&quot;) 只有以下四种情况下会转义：<br>$(美元符号)-- 取变量的值；<br>``(反引号)-- 命令替换；<br>\(反斜杠)-- 单个字符禁止（转义）；<br>!(感叹号)-- 历史命令替换。</li></ol><h2 id="重定向"><a class="anchor" href="#重定向">#</a> 重定向</h2><p>Linux 系统中通常利用键盘输入数据，命令执行结果输出到屏幕上。也就是说 Linux 的默认标准输入时键盘，默认标准输出和标准错误输出都是屏幕。<br>Shell 中，不使用系统默认的输入输出端口，而是重新指定至文件的情况称为重定向。</p><h3 id="输出重定向"><a class="anchor" href="#输出重定向">#</a> 输出重定向</h3><p>输出重定向就是命令的执行结果不显示在标准输出（屏幕）上，而是保存到某一文件中的操作，利用符号 “&gt;” 来显示。</p><p>但命令的错误输出信息还是会显示在屏幕上，正确输出会在文件中。</p><h3 id="附加输出重定向"><a class="anchor" href="#附加输出重定向">#</a> 附加输出重定向</h3><p>与输出重定向相比附加重定向将内容追加到原有内容之后，不会覆盖原内容。利用符号 “&gt;&gt;” 来实现。</p><h3 id="错误输出重定向"><a class="anchor" href="#错误输出重定向">#</a> 错误输出重定向</h3><p>Shell 中的标准输出与错误输出是两个独立的操作。错误输出也可以进行重定向。利用符号 “2&gt;” 来实现。</p><h3 id="组合输出重定向"><a class="anchor" href="#组合输出重定向">#</a> 组合输出重定向</h3><p>若要将正确输出和错误输出重定向至某个文件，而屏幕上不显示任何内容，则可以利用符号 “&amp;&gt;” 来实现组合输出重定向功能。</p><h3 id="输入重定向"><a class="anchor" href="#输入重定向">#</a> 输入重定向</h3><p>输入重定向是从某个文件读入数据，用 “&lt;” 符号来实现。由于大多数命令都已参数的形式在命令行上指定输入文件，所以并不常用。</p><table><thead><tr><th style="text-align:left">符号</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:left">command &lt;file</td><td style="text-align:left">将 file 文件中的内容作为 command 的输入。</td></tr><tr><td style="text-align:left">command &lt;&lt;END</td><td style="text-align:left">从标准输入（键盘）中读取数据，直到遇见分界符 END 才停止（分界符可以是任意的字符串，用户自己定义）。</td></tr><tr><td style="text-align:left">command<file1>file2</file1></td><td style="text-align:left">将 file1 作为 command 的输入，并将 command 的处理结果输出到 file2。</td></tr></tbody></table><h2 id="管道"><a class="anchor" href="#管道">#</a> 管道</h2><p>学习管道之前我们先了解一下 linux 的命令执行顺序</p><h3 id="命令执行顺序控制"><a class="anchor" href="#命令执行顺序控制">#</a> 命令执行顺序控制</h3><p>通常情况下，我们在终端只能执行一条命令，然后按下回车执行，那么如何执行多条命令呢？</p><figure class="highlight bash"><figcaption data-lang="bash"><span>h</span></figcaption><table><tr><td data-num="1"></td><td><pre>顺序执行多条命令：command1<span class="token punctuation">;</span>command2<span class="token punctuation">;</span>command3<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>简单的顺序指令可以通过 <span class="token punctuation">;</span>来实现</pre></td></tr><tr><td data-num="3"></td><td><pre>有条件的执行多条命令：which command1 <span class="token operator">&amp;&amp;</span> command2 <span class="token operator">||</span> command3 <span class="token comment">## which 命令用于查找文件。</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">:</span> 如果前一条命令执行成功则执行下一条命令，如果command1执行成功（返回0）,则执行command2</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token operator">||</span> :与<span class="token operator">&amp;&amp;</span>命令相反，执行不成功时执行这个命令</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token variable">$?</span><span class="token builtin class-name">:</span> 存储上一次命令的返回结果</pre></td></tr></table></figure><h3 id="管道命令"><a class="anchor" href="#管道命令">#</a> 管道命令</h3><blockquote><p>管道是一种通信机制，通常用于进程间的通信（也可通过 socket 进行网络通信），它表现出来的形式将前面每一个进程的输出（stdout）直接作为下一个进程的输入（stdin）。</p></blockquote><p>管道命令使用 | 作为界定符号，管道命令与上面说的连续执行命令不一样。</p><p>管道命令仅能处理 standard output, 对于 standard error output 会予以忽略。</p><p><code>less,more,head,tail...都是可以接受standard input的命令，所以他们是管道命令</code><br><code>ls,cp,mv并不会接受standard input的命令，所以他们就不是管道命令了。</code></p><p>管道命令必须要能够接受来自前一个命令的数据成为 standard input 继续处理才行。</p><p>第一个管道命令<br><code>$ ls -al /etc | less</code></p><p>通过管道将 ls -al 的输出作为 下一个命令 less 的输入，方便浏览。</p><h2 id="文本处理工具"><a class="anchor" href="#文本处理工具">#</a> 文本处理工具</h2><h3 id="提取文本"><a class="anchor" href="#提取文本">#</a> 提取文本</h3><h4 id="查看文件内容"><a class="anchor" href="#查看文件内容">#</a> 查看文件内容</h4><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">cat</span></pre></td></tr><tr><td data-num="2"></td><td><pre>格式：cat 【选项】 文件列表</pre></td></tr><tr><td data-num="3"></td><td><pre>功能：显示文本文件内容</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>选项说明：-n  表示在每一行前面显示行号。</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token function">more</span></pre></td></tr><tr><td data-num="8"></td><td><pre>格式：more 文件</pre></td></tr><tr><td data-num="9"></td><td><pre>功能： 分屏显示文本文件的内容。</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>只能向后翻阅</pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token function">less</span></pre></td></tr><tr><td data-num="14"></td><td><pre>与more命令非常相似，也能分屏显示文本文件的内容。用户可以用上下箭头、Enter键、Space键前后翻阅文本内容。使用Q键退出命令。</pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>less比more命令更方便。</pre></td></tr></table></figure><h4 id="产看文件摘录"><a class="anchor" href="#产看文件摘录">#</a> 产看文件摘录</h4><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">head</span></pre></td></tr><tr><td data-num="2"></td><td><pre>格式：head 【选项】 文件</pre></td></tr><tr><td data-num="3"></td><td><pre>功能：显示文本文件的开头部分，默认显示文件的前十行</pre></td></tr><tr><td data-num="4"></td><td><pre>主要选项说明： <span class="token string">'-n 数字'</span> 表示指定显示的行数</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">tail</span></pre></td></tr><tr><td data-num="7"></td><td><pre>与head命令非常相似，用于显示文件的结尾部分，默认显示最后10行，也可以用<span class="token string">'-n 数字'</span>选项</pre></td></tr><tr><td data-num="8"></td><td><pre>还可以用<span class="token string">'-f'</span>选项表示跟进文件后续增加，通常用于监控日志文件，便于网络服务的排错处理。</pre></td></tr></table></figure><h4 id="按关键字提取文本"><a class="anchor" href="#按关键字提取文本">#</a> 按关键字提取文本</h4><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">grep</span></pre></td></tr><tr><td data-num="2"></td><td><pre>按照关键字进行文本的提取及过滤出含有某个关键字的行。</pre></td></tr><tr><td data-num="3"></td><td><pre>grep命令通常与管道配合使用，通常的选项及含义如下：</pre></td></tr><tr><td data-num="4"></td><td><pre>-i 忽略大小写</pre></td></tr><tr><td data-num="5"></td><td><pre>-n 行号显示</pre></td></tr><tr><td data-num="6"></td><td><pre>-v 取反<span class="token punctuation">(</span>相对的结果<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>^  以……开头</pre></td></tr><tr><td data-num="8"></td><td><pre>$  以……结尾</pre></td></tr><tr><td data-num="9"></td><td><pre>-r 以递归方式搜索目录</pre></td></tr><tr><td data-num="10"></td><td><pre>-AX 包括每个匹配项的后X行</pre></td></tr><tr><td data-num="11"></td><td><pre>-BX 包括每个匹配项的前X行</pre></td></tr><tr><td data-num="12"></td><td><pre>--color 以颜色突出显示匹配项</pre></td></tr><tr><td data-num="13"></td><td><pre>-w 精确匹配某个单词</pre></td></tr></table></figure><p><img data-src="image010.png" alt=""></p><p>正则匹配模式</p><p><img data-src="image011.png" alt=""></p><p>实例<br><img data-src="image012.png" alt=""></p><h4 id="按列或字段提取文本"><a class="anchor" href="#按列或字段提取文本">#</a> 按列或字段提取文本</h4><p>按列或字段提取文本的命令常用的包括 cut 和 awk，通常与管道配合使用。</p><ol><li>cut<br>格式：cut -d 字符 -f 数字 file<br>功能：提取文件 file 中以某字符未分割符的某列（或某字段）。其中 - d 后面的字符表示分隔符，-f 后面的数字表示提取的列数。</li></ol><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@node ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/passwd | cut -d : -f 1,3</span></pre></td></tr><tr><td data-num="2"></td><td><pre>root:0</pre></td></tr><tr><td data-num="3"></td><td><pre>bin:1</pre></td></tr><tr><td data-num="4"></td><td><pre>daemon:2</pre></td></tr><tr><td data-num="5"></td><td><pre>adm:3</pre></td></tr><tr><td data-num="6"></td><td><pre>lp:4</pre></td></tr><tr><td data-num="7"></td><td><pre>sync:5</pre></td></tr><tr><td data-num="8"></td><td><pre>shutdown:6</pre></td></tr><tr><td data-num="9"></td><td><pre>halt:7</pre></td></tr><tr><td data-num="10"></td><td><pre>mail:8</pre></td></tr><tr><td data-num="11"></td><td><pre>operator:11</pre></td></tr><tr><td data-num="12"></td><td><pre>games:12</pre></td></tr><tr><td data-num="13"></td><td><pre>ftp:14</pre></td></tr><tr><td data-num="14"></td><td><pre>【略】</pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>显示文件/etc/passwd中以‘:’作为分隔符的第一列和第三列</pre></td></tr></table></figure><p>cut 命令还可以接 - c 选项，表示义字符个数截取。</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@node ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/passwd | cut -c 1-3</span></pre></td></tr><tr><td data-num="2"></td><td><pre>roo</pre></td></tr><tr><td data-num="3"></td><td><pre>bin</pre></td></tr><tr><td data-num="4"></td><td><pre>dae</pre></td></tr><tr><td data-num="5"></td><td><pre>adm</pre></td></tr><tr><td data-num="6"></td><td><pre>lp:</pre></td></tr><tr><td data-num="7"></td><td><pre>syn</pre></td></tr><tr><td data-num="8"></td><td><pre>shu</pre></td></tr><tr><td data-num="9"></td><td><pre>【略】</pre></td></tr></table></figure><p>表示截取 /etc/passwd 文件中的第 1~3 个字符</p><ol start="2"><li>awk<br>awk 是一种很棒的语言，它适合文本处理和报表生成，其语法较为常见，借鉴了某些语言的一些精华，如 C 语言等。在 Linux 系统日常处理工作中，发挥很重要的作用，掌握了 awk 将会使你的工作变的高大上。awk 是三剑客的老大，利剑出鞘，必会不同凡响。</li></ol><p>简单来说，awk 是把文件逐行的读入，以空格为默认分隔符将每行切片，切开的部分再进行各种分析处理。</p><p>awk '{pattern + action}' {filename}<br>其中 pattern 表示 AWK 在数据中查找的内容，而 action 是在找到匹配内容时所执行的一系列命令。<br>filename 的 {} 实际是不用写的。<br>awk 语言的最基本功能是在文件或者字符串中基于指定规则浏览和抽取信息，awk 抽取信息后，才能进行其他文本操作。完整的 awk 脚本通常用来格式化文本文件中的信息。<br>通常，awk 是以文件的一行为处理单位的。awk 每接收文件的一行，然后执行相应的命令，来处理文本。</p><p>awk [选项]' 脚本命令文件名</p><p>常用选项:</p><p>-F 指定输入分隔符，默认分割符是空格，如 - F:<br>-f file 从脚本文件中读取 awk 脚本指令</p><p>以：为分隔符，显示第 1 和 5 列<br>awk -F : '{printf $1,$5}' /etc/passwd</p><p>awk 内置变量:</p><p>FILENAME 文件名<br>FNR 浏览文件的记录数<br>NF 浏览记录的域的个数 (列数)<br>NR 已读的记录数 (行数)<br>$n $0 变量是指整条记录。<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mtext>表示当前行的第一域</mtext><mo stretchy="false">(</mo><mtext>列</mtext><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mtext>以此类推</mtext></mrow><annotation encoding="application/x-tex">1表示当前行的第一域(列) ..以此类推</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mord cjk_fallback">表</span><span class="mord cjk_fallback">示</span><span class="mord cjk_fallback">当</span><span class="mord cjk_fallback">前</span><span class="mord cjk_fallback">行</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">第</span><span class="mord cjk_fallback">一</span><span class="mord cjk_fallback">域</span><span class="mopen">(</span><span class="mord cjk_fallback">列</span><span class="mclose">)</span><span class="mord">.</span><span class="mord">.</span><span class="mord cjk_fallback">以</span><span class="mord cjk_fallback">此</span><span class="mord cjk_fallback">类</span><span class="mord cjk_fallback">推</span></span></span></span>NF 表示最后一列的信息</p><p>案例<br><img data-src="image015.png" alt=""></p><h3 id="分析文本"><a class="anchor" href="#分析文本">#</a> 分析文本</h3><h4 id="统计文本信息"><a class="anchor" href="#统计文本信息">#</a> 统计文本信息</h4><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">wc</span></pre></td></tr><tr><td data-num="2"></td><td><pre>格式：wc 【选项】 文件</pre></td></tr><tr><td data-num="3"></td><td><pre>功能：显示文本文件的行数、字数和字符数</pre></td></tr><tr><td data-num="4"></td><td><pre>主要选项说明：</pre></td></tr><tr><td data-num="5"></td><td><pre>-c      仅显示问价的字节数</pre></td></tr><tr><td data-num="6"></td><td><pre>-l      仅显示问价的行数</pre></td></tr><tr><td data-num="7"></td><td><pre>-w      仅显示文件的单词数</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">[</span>root@node ~<span class="token punctuation">]</span><span class="token comment"># wc /etc/passwd</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token number">44</span>  <span class="token number">88</span>  <span class="token number">2302</span>   /etc/passwd</pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>wc命令依次显示文件的行数、单词数、字节数及文件名。</pre></td></tr></table></figure><h4 id="排序命令"><a class="anchor" href="#排序命令">#</a> 排序命令</h4><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sort</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">sort</span> <span class="token punctuation">[</span>-fbMnrtuk<span class="token punctuation">]</span> <span class="token punctuation">[</span>file or stdin<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">[</span>参数<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="5"></td><td><pre>-f ：忽略大小写的差异，例如A 与a 视为编码相同</pre></td></tr><tr><td data-num="6"></td><td><pre>-b ：忽略最前面的空格部分</pre></td></tr><tr><td data-num="7"></td><td><pre>-M ：以月份的名字来排序，例如JAN, DEC 等等的排序方法</pre></td></tr><tr><td data-num="8"></td><td><pre>-n ：使用『纯数字』进行排序默认是以文字型态来排序的<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>-r ：反向排序</pre></td></tr><tr><td data-num="10"></td><td><pre>-u ：就是uniq ，相同的资料中，仅出现一行代表</pre></td></tr><tr><td data-num="11"></td><td><pre>-t ：分隔符号，预设是用<span class="token punctuation">[</span>tab<span class="token punctuation">]</span> 键来分隔</pre></td></tr><tr><td data-num="12"></td><td><pre>-k ：以那个区间<span class="token punctuation">(</span>field<span class="token punctuation">)</span> 来进行排序的意思</pre></td></tr></table></figure><h3 id="处理文本"><a class="anchor" href="#处理文本">#</a> 处理文本</h3><h4 id="转换字符"><a class="anchor" href="#转换字符">#</a> 转换字符</h4><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">tr</span></pre></td></tr><tr><td data-num="2"></td><td><pre>Linux <span class="token function">tr</span> 命令用于转换或删除文件中的字符。</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">tr</span> 指令从标准输入设备读取数据，经过字符串转译后，将结果输出到标准输出设备。</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>语法</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token function">tr</span> <span class="token punctuation">[</span>-cdst<span class="token punctuation">]</span><span class="token punctuation">[</span>--help<span class="token punctuation">]</span><span class="token punctuation">[</span>--version<span class="token punctuation">]</span><span class="token punctuation">[</span>第一字符集<span class="token punctuation">]</span><span class="token punctuation">[</span>第二字符集<span class="token punctuation">]</span>  </pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token function">tr</span> <span class="token punctuation">[</span>OPTION<span class="token punctuation">]</span>…SET1<span class="token punctuation">[</span>SET2<span class="token punctuation">]</span> </pre></td></tr><tr><td data-num="9"></td><td><pre>参数说明：</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>-c, --complement：反选设定字符。也就是符合 SET1 的部份不做处理，不符合的剩余部份才进行转换</pre></td></tr><tr><td data-num="12"></td><td><pre>-d, --delete：删除指令字符</pre></td></tr><tr><td data-num="13"></td><td><pre>-s, --squeeze-repeats：缩减连续重复的字符成指定的单个字符</pre></td></tr><tr><td data-num="14"></td><td><pre>-t, --truncate-set1：削减 SET1 指定范围，使之与 SET2 设定长度相等</pre></td></tr><tr><td data-num="15"></td><td><pre>--help：显示程序用法信息</pre></td></tr><tr><td data-num="16"></td><td><pre>--version：显示程序本身的版本信息</pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>字符集合的范围：</pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">\</span>NNN 八进制值的字符 NNN <span class="token punctuation">(</span><span class="token number">1</span> to <span class="token number">3</span> 为八进制值的字符<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">\</span><span class="token punctuation">\</span> 反斜杠</pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">\</span>a Ctrl-G 铃声</pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">\</span>b Ctrl-H 退格符</pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token punctuation">\</span>f Ctrl-L 走行换页</pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token punctuation">\</span>n Ctrl-J 新行</pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">\</span>r Ctrl-M 回车</pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token punctuation">\</span>t Ctrl-I tab键</pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token punctuation">\</span>v Ctrl-X 水平制表符</pre></td></tr><tr><td data-num="29"></td><td><pre>CHAR1-CHAR2 ：字符范围从 CHAR1 到 CHAR2 的指定，范围的指定以 ASCII 码的次序为基础，只能由小到大，不能由大到小。</pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token punctuation">[</span>CHAR*<span class="token punctuation">]</span> ：这是 SET2 专用的设定，功能是重复指定的字符到与 SET1 相同长度为止</pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token punctuation">[</span>CHAR*REPEAT<span class="token punctuation">]</span> ：这也是 SET2 专用的设定，功能是重复指定的字符到设定的 REPEAT 次数为止<span class="token punctuation">(</span>REPEAT 的数字采 <span class="token number">8</span> 进位制计算，以 <span class="token number">0</span> 为开始<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token punctuation">[</span>:alnum:<span class="token punctuation">]</span> ：所有字母字符与数字</pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token punctuation">[</span>:alpha:<span class="token punctuation">]</span> ：所有字母字符</pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token punctuation">[</span>:blank:<span class="token punctuation">]</span> ：所有水平空格</pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token punctuation">[</span>:cntrl:<span class="token punctuation">]</span> ：所有控制字符</pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token punctuation">[</span>:digit:<span class="token punctuation">]</span> ：所有数字</pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token punctuation">[</span>:graph:<span class="token punctuation">]</span> ：所有可打印的字符<span class="token punctuation">(</span>不包含空格符<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token punctuation">[</span>:lower:<span class="token punctuation">]</span> ：所有小写字母</pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token punctuation">[</span>:print:<span class="token punctuation">]</span> ：所有可打印的字符<span class="token punctuation">(</span>包含空格符<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token punctuation">[</span>:punct:<span class="token punctuation">]</span> ：所有标点字符</pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token punctuation">[</span>:space:<span class="token punctuation">]</span> ：所有水平与垂直空格符</pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token punctuation">[</span>:upper:<span class="token punctuation">]</span> ：所有大写字母</pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token punctuation">[</span>:xdigit:<span class="token punctuation">]</span> ：所有 <span class="token number">16</span> 进位制的数字</pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token punctuation">[</span><span class="token operator">=</span>CHAR<span class="token operator">=</span><span class="token punctuation">]</span> ：所有符合指定的字符<span class="token punctuation">(</span>等号里的 CHAR，代表你可自订的字符<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="45"></td><td><pre>实例</pre></td></tr><tr><td data-num="46"></td><td><pre>将文件testfile中的小写字母全部转换成大写字母，此时，可使用如下命令：</pre></td></tr><tr><td data-num="47"></td><td><pre></pre></td></tr><tr><td data-num="48"></td><td><pre><span class="token function">cat</span> testfile <span class="token operator">|</span><span class="token function">tr</span> a-z A-Z </pre></td></tr><tr><td data-num="49"></td><td><pre>testfile文件中的内容如下：</pre></td></tr><tr><td data-num="50"></td><td><pre></pre></td></tr><tr><td data-num="51"></td><td><pre>$ <span class="token function">cat</span> testfile         <span class="token comment">#testfile 原来的内容  </span></pre></td></tr><tr><td data-num="52"></td><td><pre>Linux networks are becoming <span class="token function">more</span> and <span class="token function">more</span> common, </pre></td></tr><tr><td data-num="53"></td><td><pre>but scurity is often an overlooked  </pre></td></tr><tr><td data-num="54"></td><td><pre>issue. Unfortunately, <span class="token keyword">in</span> today’s environment all networks </pre></td></tr><tr><td data-num="55"></td><td><pre>are potential hacker targets,  </pre></td></tr><tr><td data-num="56"></td><td><pre>fro0m tp-secret military research networks to small home LANs.  </pre></td></tr><tr><td data-num="57"></td><td><pre>Linux Network Securty focuses on securing Linux <span class="token keyword">in</span> a </pre></td></tr><tr><td data-num="58"></td><td><pre>networked environment, where the  </pre></td></tr><tr><td data-num="59"></td><td><pre>security of the entire network needs to be considered</pre></td></tr><tr><td data-num="60"></td><td><pre>rather than just isolated machines.  </pre></td></tr><tr><td data-num="61"></td><td><pre>It uses a mix of theory and practicl techniques to </pre></td></tr><tr><td data-num="62"></td><td><pre>teach administrators how to <span class="token function">install</span> and  </pre></td></tr><tr><td data-num="63"></td><td><pre>use security applications, as well as how the </pre></td></tr><tr><td data-num="64"></td><td><pre>applcations work and why they are necesary. </pre></td></tr><tr><td data-num="65"></td><td><pre>使用 <span class="token function">tr</span> 命令大小写转换后，得到如下输出结果：</pre></td></tr><tr><td data-num="66"></td><td><pre></pre></td></tr><tr><td data-num="67"></td><td><pre>$ <span class="token function">cat</span> testfile <span class="token operator">|</span> <span class="token function">tr</span> a-z A-Z <span class="token comment">#转换后的输出  </span></pre></td></tr><tr><td data-num="68"></td><td><pre>LINUX NETWORKS ARE BECOMING MORE AND MORE COMMON, BUT SCURITY IS OFTEN AN OVERLOOKED  </pre></td></tr><tr><td data-num="69"></td><td><pre>ISSUE. UNFORTUNATELY, IN TODAY’S ENVIRONMENT ALL NETWORKS ARE POTENTIAL HACKER TARGETS,  </pre></td></tr><tr><td data-num="70"></td><td><pre>FROM TP-SECRET MILITARY RESEARCH NETWORKS TO SMALL <span class="token environment constant">HOME</span> LANS.  </pre></td></tr><tr><td data-num="71"></td><td><pre>LINUX NETWORK SECURTY FOCUSES ON SECURING LINUX IN A NETWORKED ENVIRONMENT, WHERE THE  </pre></td></tr><tr><td data-num="72"></td><td><pre>SECURITY OF THE ENTIRE NETWORK NEEDS TO BE CONSIDERED RATHER THAN JUST ISOLATED MACHINES.  </pre></td></tr><tr><td data-num="73"></td><td><pre>IT USES A MIX OF THEORY AND PRACTICL TECHNIQUES TO TEACH ADMINISTRATORS HOW TO INSTALL AND  </pre></td></tr><tr><td data-num="74"></td><td><pre>USE SECURITY APPLICATIONS, AS WELL AS HOW THE APPLCATIONS WORK AND WHY THEY ARE NECESARY. </pre></td></tr><tr><td data-num="75"></td><td><pre>大小写转换，也可以通过<span class="token punctuation">[</span>:lower<span class="token punctuation">]</span><span class="token punctuation">[</span>:upper<span class="token punctuation">]</span>参数来实现。例如使用如下命令：</pre></td></tr><tr><td data-num="76"></td><td><pre></pre></td></tr><tr><td data-num="77"></td><td><pre><span class="token function">cat</span> testfile <span class="token operator">|</span><span class="token function">tr</span> <span class="token punctuation">[</span>:lower:<span class="token punctuation">]</span> <span class="token punctuation">[</span>:upper:<span class="token punctuation">]</span> </pre></td></tr><tr><td data-num="78"></td><td><pre>输出结果如下：</pre></td></tr><tr><td data-num="79"></td><td><pre></pre></td></tr><tr><td data-num="80"></td><td><pre>$ <span class="token function">cat</span> testfile <span class="token operator">|</span> <span class="token function">tr</span> <span class="token punctuation">[</span>:lower:<span class="token punctuation">]</span> <span class="token punctuation">[</span>:upper:<span class="token punctuation">]</span> <span class="token comment">#转换后的输出  </span></pre></td></tr><tr><td data-num="81"></td><td><pre>LINUX NETWORKS ARE BECOMING MORE AND MORE COMMON, BUT SCURITY IS OFTEN AN OVERLOOKED  </pre></td></tr><tr><td data-num="82"></td><td><pre>ISSUE. UNFORTUNATELY, IN TODAY’S ENVIRONMENT ALL NETWORKS ARE POTENTIAL HACKER TARGETS,  </pre></td></tr><tr><td data-num="83"></td><td><pre>FROM TP-SECRET MILITARY RESEARCH NETWORKS TO SMALL <span class="token environment constant">HOME</span> LANS.  </pre></td></tr><tr><td data-num="84"></td><td><pre>LINUX NETWORK SECURTY FOCUSES ON SECURING LINUX IN A NETWORKED ENVIRONMENT, WHERE THE  </pre></td></tr><tr><td data-num="85"></td><td><pre>SECURITY OF THE ENTIRE NETWORK NEEDS TO BE CONSIDERED RATHER THAN JUST ISOLATED MACHINES.  </pre></td></tr><tr><td data-num="86"></td><td><pre>IT USES A MIX OF THEORY AND PRACTICL TECHNIQUES TO TEACH ADMINISTRATORS HOW TO INSTALL AND  </pre></td></tr><tr><td data-num="87"></td><td><pre>USE SECURITY APPLICATIONS, AS WELL AS HOW THE APPLCATIONS WORK AND WHY THEY ARE NECESARY.</pre></td></tr></table></figure><h4 id="查找替换"><a class="anchor" href="#查找替换">#</a> 查找替换</h4><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">sed</span></pre></td></tr><tr><td data-num="2"></td><td><pre>stream editor的缩写，用于对文本流进行查找替换操作，不改变源文件。</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>Linux <span class="token function">sed</span> 命令是利用脚本来处理文本文件。</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">sed</span> 可依照脚本的指令来处理、编辑文本文件。</pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>Sed 主要用来自动编辑一个或多个文件、简化对文件的反复操作、编写转换程序等。</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>语法</pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token function">sed</span> <span class="token punctuation">[</span>-hnV<span class="token punctuation">]</span><span class="token punctuation">[</span>-e<span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>-f<span class="token operator">&lt;</span>script文件<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>文本文件<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="12"></td><td><pre>参数说明：</pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>-e<span class="token operator">&lt;</span>script<span class="token operator">></span>或--expression<span class="token operator">=</span><span class="token operator">&lt;</span>script<span class="token operator">></span> 以选项中指定的script来处理输入的文本文件。</pre></td></tr><tr><td data-num="15"></td><td><pre>-f<span class="token operator">&lt;</span>script文件<span class="token operator">></span>或--file<span class="token operator">=</span><span class="token operator">&lt;</span>script文件<span class="token operator">></span> 以选项中指定的script文件来处理输入的文本文件。</pre></td></tr><tr><td data-num="16"></td><td><pre>-h或--help 显示帮助。</pre></td></tr><tr><td data-num="17"></td><td><pre>-n或--quiet或--silent 仅显示script处理后的结果。</pre></td></tr><tr><td data-num="18"></td><td><pre>-V或--version 显示版本信息。</pre></td></tr><tr><td data-num="19"></td><td><pre>动作说明：</pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>a ：新增， a 的后面可以接字串，而这些字串会在新的一行出现<span class="token punctuation">(</span>目前的下一行<span class="token punctuation">)</span>～</pre></td></tr><tr><td data-num="22"></td><td><pre>c ：取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行！</pre></td></tr><tr><td data-num="23"></td><td><pre>d ：删除，因为是删除啊，所以 d 后面通常不接任何咚咚；</pre></td></tr><tr><td data-num="24"></td><td><pre>i ：插入， i 的后面可以接字串，而这些字串会在新的一行出现<span class="token punctuation">(</span>目前的上一行<span class="token punctuation">)</span>；</pre></td></tr><tr><td data-num="25"></td><td><pre>p ：打印，亦即将某个选择的数据印出。通常 p 会与参数 <span class="token function">sed</span> -n 一起运行～</pre></td></tr><tr><td data-num="26"></td><td><pre>s ：取代，可以直接进行取代的工作哩！通常这个 s 的动作可以搭配正规表示法！例如 <span class="token number">1</span>,20s/old/new/g 就是啦！</pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>实例</pre></td></tr><tr><td data-num="30"></td><td><pre>在testfile文件的第四行后添加一行，并将结果输出到标准输出，在命令行提示符下输入如下命令：</pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token function">sed</span> -e 4a<span class="token punctuation">\</span>newLine testfile </pre></td></tr><tr><td data-num="33"></td><td><pre>首先查看testfile中的内容如下：</pre></td></tr><tr><td data-num="34"></td><td><pre></pre></td></tr><tr><td data-num="35"></td><td><pre>$ <span class="token function">cat</span> testfile <span class="token comment">#查看 testfile 中的内容  </span></pre></td></tr><tr><td data-num="36"></td><td><pre>HELLO LINUX<span class="token operator">!</span>  </pre></td></tr><tr><td data-num="37"></td><td><pre>Linux is a <span class="token function">free</span> unix-type opterating system.  </pre></td></tr><tr><td data-num="38"></td><td><pre>This is a linux testfile<span class="token operator">!</span>  </pre></td></tr><tr><td data-num="39"></td><td><pre>Linux <span class="token builtin class-name">test</span> </pre></td></tr><tr><td data-num="40"></td><td><pre>使用sed命令后，输出结果如下：</pre></td></tr><tr><td data-num="41"></td><td><pre></pre></td></tr><tr><td data-num="42"></td><td><pre>$ <span class="token function">sed</span> -e 4a<span class="token punctuation">\</span>newline testfile <span class="token comment">#使用 sed 在第四行后添加新字符串  </span></pre></td></tr><tr><td data-num="43"></td><td><pre>HELLO LINUX<span class="token operator">!</span> <span class="token comment">#testfile 文件原有的内容  </span></pre></td></tr><tr><td data-num="44"></td><td><pre>Linux is a <span class="token function">free</span> unix-type opterating system.  </pre></td></tr><tr><td data-num="45"></td><td><pre>This is a linux testfile<span class="token operator">!</span>  </pre></td></tr><tr><td data-num="46"></td><td><pre>Linux <span class="token builtin class-name">test</span>  </pre></td></tr><tr><td data-num="47"></td><td><pre>newline</pre></td></tr></table></figure><p><img data-src="image013.png" alt=""><br><img data-src="image014.png" alt=""></p><h2 id="linux中的shell如何切换"><a class="anchor" href="#linux中的shell如何切换">#</a> Linux 中的 shell 如何切换</h2><p>转载自<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2plcnJ5XzExMjYvYXJ0aWNsZS9kZXRhaWxzLzg1MjI0NzM3"> https://blog.csdn.net/jerry_1126/article/details/85224737</span></p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>方法一: chsh -s /bin/ksh</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">[</span>root@host ~<span class="token punctuation">]</span><span class="token comment"># chsh -s /bin/ksh           # 修改用户默认的 shell 为 ksh</span></pre></td></tr><tr><td data-num="4"></td><td><pre>Changing shell <span class="token keyword">for</span> root.</pre></td></tr><tr><td data-num="5"></td><td><pre>Shell not changed.</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">[</span>root@host ~<span class="token punctuation">]</span><span class="token comment"># egrep 'root' /etc/passwd   # 查看修改是否成功，按 CTRL+D 退出下次生效</span></pre></td></tr><tr><td data-num="7"></td><td><pre>root:x:0:0:root:/root:/bin/ksh </pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>方法二: <span class="token function">usermod</span> -s /bin/ksh root</pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">[</span>root@host ~<span class="token punctuation">]</span><span class="token comment"># usermod -s /bin/ksh root</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>其他命令或者相互操作:</pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>查看当前使用的shell</pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">[</span>root@host ~<span class="token punctuation">]</span><span class="token comment"># echo $SHELL</span></pre></td></tr><tr><td data-num="20"></td><td><pre>/bin/bash</pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment"># 或者</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">[</span>root@host ~<span class="token punctuation">]</span><span class="token comment"># egrep 'root' /etc/passwd</span></pre></td></tr><tr><td data-num="23"></td><td><pre>root:x:0:0:root:/root:/bin/bash </pre></td></tr><tr><td data-num="24"></td><td><pre>查看所有可用的shell</pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token punctuation">[</span>root@host ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/shells</span></pre></td></tr><tr><td data-num="26"></td><td><pre>/bin/sh</pre></td></tr><tr><td data-num="27"></td><td><pre>/bin/bash</pre></td></tr><tr><td data-num="28"></td><td><pre>/bin/ksh</pre></td></tr><tr><td data-num="29"></td><td><pre>/bin/zsh</pre></td></tr><tr><td data-num="30"></td><td><pre>/bin/csh</pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span></pre></td></tr><tr><td data-num="32"></td><td><pre> </pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token comment"># 或者</span></pre></td></tr><tr><td data-num="34"></td><td><pre> </pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token punctuation">[</span>root@host ~<span class="token punctuation">]</span><span class="token comment"># chsh -l</span></pre></td></tr><tr><td data-num="36"></td><td><pre>/bin/sh</pre></td></tr><tr><td data-num="37"></td><td><pre>/bin/bash</pre></td></tr><tr><td data-num="38"></td><td><pre>/bin/ksh</pre></td></tr><tr><td data-num="39"></td><td><pre>/bin/zsh</pre></td></tr><tr><td data-num="40"></td><td><pre>/bin/csh</pre></td></tr></table></figure><h2 id="vi编辑器"><a class="anchor" href="#vi编辑器">#</a> vi 编辑器</h2><p><img data-src="image001.png" alt=""></p><h1 id="用户-组和权限"><a class="anchor" href="#用户-组和权限">#</a> 用户、组和权限</h1><p>转载自<span class="exturl" data-url="aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vemhvbmdndWl5YW8vcC85MTY1OTE3Lmh0bWw="> https://www.cnblogs.com/zhongguiyao/p/9165917.html</span> 超级详细</p><p>Linux 系统是一个多用户操作系统，从本机或远程登录的多个用户能共同使用同一计算机，同时访问同一设备。<br>Linux 系统进行用户和组管理的目的在于保证系统中数据与文件的安全。</p><h2 id="用户账户管理"><a class="anchor" href="#用户账户管理">#</a> 用户账户管理</h2><p>Linux/Unix 是一个用户、多任务的操作系统；在讲 Linux 账号及账户组管理之前，先简单了解一下多用户、多任务操作系统的基本概念。</p><h3 id="linux的单用户多任务"><a class="anchor" href="#linux的单用户多任务">#</a> Linux 的单用户多任务</h3><p>在 Linux 下，当你登录后，你也可以同时开启很多的服务任务和进程，而各自服务都会跑的很好却对其他任务没有任何影响，这种登录一个用户登录系统执行多个服务任务和进程的情况，就称为单用户多任务。</p><h3 id="linux的多用户多任务"><a class="anchor" href="#linux的多用户多任务">#</a> Linux 的多用户多任务</h3><p>有时可能是很多用户同时用同一个系统，如公司几十个运维人员，每台机器都可以和被若干个运维人员登录部署或解决相关故障问题，但并不是所有的运维人员都要做同一件事，所以就有了多任务、多用户的情况。</p><p>值得注意的是：多用户、多任务并不是大家同时挤到一起，在一台机器的键盘和显示器前来操作机器，多用户可能是通过 SSH 客户端工具等远程工具等远程登录服务器来进行，比如对服务器的运程控制，只要具有相关用户的权限，任何人都是可以上去操作访问服务器。</p><h2 id="linux系统用户角色划分"><a class="anchor" href="#linux系统用户角色划分">#</a> linux 系统用户角色划分</h2><p>用户在系统中是分角色的，在 Linux 系统中，由于角色的不同，权限和所完成的任务也不同；值得注意的是用户的角色是通过 UID 和 GID 识别的；特别是 UID，在运维工作中，一个 UID 是唯一标识一个系统用户的账号。</p><p>用户账户：</p><p>超级用户 root（0）<br>程序用户（1~499）<br>普通用户（500~65535）</p><p>超级用户：</p><pre><code>默认是root用户，其UID和GID均为0。在每台unix/linux操作系统中都是唯一且真实存在的，通过它可以登录系统，可以操作系统中任何文件
和命令，
拥有最高的管理权限。在生产环境，一般禁止root账号远程登录SSH连接服务器，以加强系统安全。
</code></pre><p>普通用户：</p><pre><code>这类用户一般是由具备系统管理员root的权限的运维人员添加的。
</code></pre><p>程序用户：</p><pre><code>与真实用户区分开来，这类用户的最大特点是安装系统后默认就会存在的，且默认情况不能登录系统，它们是系统正常运行
必不可少的，他们的存在主要是方便系统管理，满足相应的系统进程都文件属主的要求。例如系统默认的bin、adm、nodoby、mail用户等。
由于服务器角色的不同，有部分用不到的系统服务被禁止开机执行，因此，在做系统安全优化时，被禁止开机启动了的服务对应的虚拟用户
也是可以处理掉的(删除或注释)。
</code></pre><h2 id="用户及用户组配置文件介绍"><a class="anchor" href="#用户及用户组配置文件介绍">#</a> 用户及用户组配置文件介绍</h2><p>Linux 系统中下的账户文件主要有 /etc/passwd、/etc/shadow、/etc/group、/etc/gshadow 四个文件。</p><h3 id="与用户相关的配置文件"><a class="anchor" href="#与用户相关的配置文件">#</a> 与用户相关的配置文件</h3><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>/etc/passwd:  <span class="token comment">#用户的配置文件， 保存用户账户的基本信息</span></pre></td></tr><tr><td data-num="2"></td><td><pre>/etc/shadow  <span class="token comment">#用户影子口令文件</span></pre></td></tr></table></figure><p>用户的配置文件 /etc/passwd<br>/etc/passwd 文件中每行定义一个用户账号，有多少行就表示多少个账号，在一行中可以清晰的看出，各内容之间又通过”:” 号划分了 7 个字段，这 7 个字段分别定义了账号的不同属性，passwd 文件实际内容如下:</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@Web ~<span class="token punctuation">]</span><span class="token comment"># head -5 /etc/passwd</span></pre></td></tr><tr><td data-num="2"></td><td><pre>root:x:0:0:root:/root:/bin/bash</pre></td></tr><tr><td data-num="3"></td><td><pre>bin:x:1:1:bin:/bin:/sbin/nologin</pre></td></tr><tr><td data-num="4"></td><td><pre>daemon:x:2:2:daemon:/sbin:/sbin/nologin</pre></td></tr><tr><td data-num="5"></td><td><pre>adm:x:3:4:adm:/var/adm:/sbin/nologin</pre></td></tr><tr><td data-num="6"></td><td><pre>lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</pre></td></tr></table></figure><p>在 passwd 文件中，第一行内容就是超级用户 root 行，可以看到它的 uid 和 gid 都为 0. 为了方便理解，下面是各字段的描述：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>字段1：帐号名，这是用户登陆时使用的账户名称，在系统中是唯一的，不能重名</pre></td></tr><tr><td data-num="2"></td><td><pre>字段2：密码占位符x；早期的unix系统中，该字段是存放账户和密码的，由于安全原因，后来把这个密码字段内容移到/etc/shadow中了。</pre></td></tr><tr><td data-num="3"></td><td><pre>　　　　　　这里可以看到一个字母x，表示该用户的密码是/etc/shadow文件中保护的。</pre></td></tr><tr><td data-num="4"></td><td><pre>字段3：<span class="token environment constant">UID</span>；范围是0-65535</pre></td></tr><tr><td data-num="5"></td><td><pre>字段4：GID；范围是0-65535；当添加用户时，默认情况下会同时建立一个与用户同名且<span class="token environment constant">UID</span>和GID相同的组。</pre></td></tr><tr><td data-num="6"></td><td><pre>字段5：用户说明；这个字段是对这个账户的说明</pre></td></tr><tr><td data-num="7"></td><td><pre>字段6：宿主目录；用户登陆后首先进入的目录，一般与<span class="token string">"/home/用户名"</span>这样的目录</pre></td></tr><tr><td data-num="8"></td><td><pre>字段7：登录Shell   当前用户登陆后所使用的shell，在centos/rhel系统中，默认的shell是bash；如果不希望用户登陆系统，可以通过usermod</pre></td></tr><tr><td data-num="9"></td><td><pre>　　　　　　或者手动修改passwd设置，将该字段设置为/sbin/nologin 即可。大多数内置系统账户都是/sbin/nologin,这表示禁止登陆系统。</pre></td></tr><tr><td data-num="10"></td><td><pre>　　　　　　这是出于安全考虑的。</pre></td></tr></table></figure><h4 id="passwd中有关uid的限制说明"><a class="anchor" href="#passwd中有关uid的限制说明">#</a> passwd 中有关 UID 的限制说明</h4><p>0：当用户的 UID 为 0 时，表示这个账户为超级用户；如果要增加一个系统管理员账户的话，只需将该账户的 UID 改为 0 即可。不建议<br>1~499：这个范围是保留给系统用户使用的 UID<br>500~65535：普通账户 UID<br>最后，来看一下 /etc/passwd 的权限：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@Web ~<span class="token punctuation">]</span><span class="token comment"># ls -l /etc/passwd</span></pre></td></tr><tr><td data-num="2"></td><td><pre>-rw-r--r--. <span class="token number">1</span> root root <span class="token number">1665</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:13 /etc/passwd</pre></td></tr></table></figure><p>因为每个用户登录时都需要取得 UID 和 GID 来判断权限问题，所以 /etc/passwd 的权限为 644，这样一来就会带来安全问题，即所有的用户都可以都 /etc/passwd 文件，即使文件内的密码是加密的，但还是存在一定的被攻击破解的安全隐患。因此，就有了 /etc/shadow 文件。</p><h4 id="用户的影子口令文件etcshadow"><a class="anchor" href="#用户的影子口令文件etcshadow">#</a> 用户的影子口令文件 /etc/shadow</h4><p>由于 passwd 文件必须要被所有的用户读，所以会带来安全隐患。而 shadow 文件就是为了解决这个安全隐患而增加的。</p><p>来看一下 /etc/shadow 的权限：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@Web ~<span class="token punctuation">]</span><span class="token comment"># ls -l /etc/shadow</span></pre></td></tr><tr><td data-num="2"></td><td><pre>----------. <span class="token number">1</span> root root <span class="token number">1059</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:13 /etc/shadow</pre></td></tr></table></figure><p>其文件内容为：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@Web ~<span class="token punctuation">]</span><span class="token comment"># head -5 /etc/shadow</span></pre></td></tr><tr><td data-num="2"></td><td><pre>root:<span class="token variable">$6</span><span class="token variable">$jmM2rFzPCFbmqBkf</span><span class="token variable">$oz3AUooR3qaV5uXU67HcXlYiE3hNf0sSsunk1eBTDPrGUOM1xYCyesGoj</span>.ZLTIzdiXEdrnnqNyC5g8SsRnxQm.:16338:0:99999:7:::</pre></td></tr><tr><td data-num="3"></td><td><pre>bin:*:15615:0:99999:7:::</pre></td></tr><tr><td data-num="4"></td><td><pre>daemon:*:15615:0:99999:7:::</pre></td></tr><tr><td data-num="5"></td><td><pre>adm:*:15615:0:99999:7:::</pre></td></tr><tr><td data-num="6"></td><td><pre>lp:*:15615:0:99999:7:::</pre></td></tr></table></figure><p>和 /etc/passwd 一样，shadow 文件的每一行内容，也是以冒号 (:) 作为分隔符，共 9 个字段，其各个字段的意义如下表：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>字段1：帐号名称</pre></td></tr><tr><td data-num="2"></td><td><pre>字段2：加密的密码</pre></td></tr><tr><td data-num="3"></td><td><pre>字段3：最近更改密码的时间；从1970/1/1到上次修改密码的天数</pre></td></tr><tr><td data-num="4"></td><td><pre>字段4：禁止修改密码的天数；从1970/1/1开始，多少天之内不能修改密码，默认值为0</pre></td></tr><tr><td data-num="5"></td><td><pre>字段5：用户必须更改口令的天数；密码的最长有效天数，默认值为99999</pre></td></tr><tr><td data-num="6"></td><td><pre>字段6：警告更改密码的期限；密码过期之前警告天数，默认值为7；在用户密码过期前多少天提醒用户更改密码</pre></td></tr><tr><td data-num="7"></td><td><pre>字段7：不活动时间；密码过期之后账户宽限时间 <span class="token number">3</span>+5；在用户密码过期之后到禁用账户的天数</pre></td></tr><tr><td data-num="8"></td><td><pre>字段8：帐号失效时间，默认值为空；从1970/1/1日起，到用户被禁用的天数</pre></td></tr><tr><td data-num="9"></td><td><pre>字段9：保留字段（未使用），标志</pre></td></tr></table></figure><p>密码过期：一旦超过密码过期日期，用户成功登陆，Linux 会强迫用户设置一个新密码，设置完成后才开启 Shell 程序<br>账户过期：若超过账户过期日期，Linux 会禁止用户登陆系统，即使输入正确密码，也无法登陆</p><h3 id="与用户组相关的配置文件"><a class="anchor" href="#与用户组相关的配置文件">#</a> 与用户组相关的配置文件</h3><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>/etc/group  <span class="token comment">#用户组配置文件</span></pre></td></tr><tr><td data-num="2"></td><td><pre>/etc/gshadow  <span class="token comment">#用户组的影子文件</span></pre></td></tr></table></figure><h4 id="用户组配置文件etcgroup"><a class="anchor" href="#用户组配置文件etcgroup">#</a> 用户组配置文件 /etc/group</h4><p>/etc/group 文件是用户组的配置文件，内容包括用户与用户组，并且能显示用户归属哪个用户组，因为一个用户可以归属一个或多个不同的用户组；同一用户组的用户之间具有相似的特性。如果某个用户下有对系统管理有最重要的内容，最好让用户拥有独立的用户组，或者是把用户下的文件的权限设置为完全私有；另外 root 用户组一般不要轻易把普通用户加入进入。</p><p>/etc/group 文件就是记录 GID 与用户组的文件。/etc/group 文件同 /etc/passwd 类似，其文件权限也是 644：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@Web ~<span class="token punctuation">]</span><span class="token comment"># ls -l /etc/group</span></pre></td></tr><tr><td data-num="2"></td><td><pre>-rw-r--r--. <span class="token number">1</span> root root <span class="token number">832</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:13 /etc/group</pre></td></tr></table></figure><p>/etc/group 的文件内容为：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@Web ~<span class="token punctuation">]</span><span class="token comment"># head -5 /etc/group</span></pre></td></tr><tr><td data-num="2"></td><td><pre>root:x:0:</pre></td></tr><tr><td data-num="3"></td><td><pre>bin:x:1:bin,daemon</pre></td></tr><tr><td data-num="4"></td><td><pre>daemon:x:2:bin,daemon</pre></td></tr><tr><td data-num="5"></td><td><pre>sys:x:3:bin,adm</pre></td></tr><tr><td data-num="6"></td><td><pre>adm:x:4:adm,daemon</pre></td></tr></table></figure><p>group 文件各个字段的详细说明：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>字段1：组账户名称</pre></td></tr><tr><td data-num="2"></td><td><pre>字段2：密码占位符x；通常不需要设置该密码，由于安全原因，该密码被记录在/etc/gshadow中，因此显示为<span class="token string">'x'</span>。这类似/etc/shadow</pre></td></tr><tr><td data-num="3"></td><td><pre>字段3：组账户GID号,用户组ID</pre></td></tr><tr><td data-num="4"></td><td><pre>字段4：本组的成员用户列表；加入这个组的所有用户账号</pre></td></tr></table></figure><h4 id="用户组的影子文件etcgshadow"><a class="anchor" href="#用户组的影子文件etcgshadow">#</a> 用户组的影子文件 /etc/gshadow</h4><p>/etc/gshaow 是 /etc/group 的加密文件，比如用户组的管理密码就是存放在这个文件。/etc/group 和 /etc/gshadow 是互补的两个文件；比如大型服务器，针对很多用户和用户组，定制一些关系结构比较复杂的额权限模型，设置用户组密码是极有必要的。比如不想让一些非用户组成员永久拥有用户组的权限和特性，这时就可以通过密码验证的方式来让某些用户临时拥有一些用户组特性，这时就要用到用户组密码；/etc/gshadow 格式如下，每个用户组独占一行；</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@Web ~<span class="token punctuation">]</span><span class="token comment"># ls -l /etc/gshadow</span></pre></td></tr><tr><td data-num="2"></td><td><pre>----------. <span class="token number">1</span> root root <span class="token number">682</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:13 /etc/gshadow</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">[</span>root@Web ~<span class="token punctuation">]</span><span class="token comment"># head -5 /etc/gshadow</span></pre></td></tr><tr><td data-num="4"></td><td><pre>root:::</pre></td></tr><tr><td data-num="5"></td><td><pre>bin:::bin,daemon</pre></td></tr><tr><td data-num="6"></td><td><pre>daemon:::bin,daemon</pre></td></tr><tr><td data-num="7"></td><td><pre>sys:::bin,adm</pre></td></tr><tr><td data-num="8"></td><td><pre>adm:::adm,daemon</pre></td></tr></table></figure><p>gshadow 文件中各个字段详细说明：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>字段1：组账号的名称</pre></td></tr><tr><td data-num="2"></td><td><pre>字段2：加密后的密码字符串，这个字段可以空的或者<span class="token operator">!</span>；如果是空的或有！，表示没有密码</pre></td></tr><tr><td data-num="3"></td><td><pre>字段3：本组的管理员列表；这个字段也可为空；如果有多个用户组管理员，用,号分隔</pre></td></tr><tr><td data-num="4"></td><td><pre>字段4：本组的成员列表；加入这个组的所有用户账户；列表中多个用户通过<span class="token string">","</span>分隔</pre></td></tr></table></figure><h2 id="常用命令"><a class="anchor" href="#常用命令">#</a> 常用命令</h2><ol><li><p>su [-] username (后面可以跟 -, 也可以不跟)<br>省略 username 就切换到 root 用户，需要输入 root 的密码。<br>当由 root 切换到普通用户时，不需要输入密码当 su 命令加上 - 后，会初始化当前用户的各种环境变量。<br>如果不加 - 切换到 root 用户时，当前目录没有变化；而如果加上 - 切换到 root 账户时，当前目录为 root 账户的家目录。</p></li><li><p>sudo 命令<br>使用 su 切换身份需要知道 root 账号的密码，这样并不安全。为了提高安全性，我们可以使用 sudo 来执行需要 root 权限的功能。<br>sudo 由 root 指定，指定后用户只需输入自己账号的密码就能申请到 root 权限，而无需告诉任何人 root 密码，因此安全了不少。</p></li></ol><p>whoami 命令和 who am i 命令是不同的 2 个命令，whoami 命令：当前执行操作的用户名 who ami 命令：打印登陆当前 Linux 系统的用户名 真实登陆的用户名</p><p>登陆账号 root 使用 su 命令切换到 hello 用户执行一遍命令，就可以看到区别了。</p><p><img data-src="image009.png" alt=""></p><p>附上思维导图<br><img data-src="image002.png" alt=""></p><h1 id="文件系统"><a class="anchor" href="#文件系统">#</a> 文件系统</h1><h2 id="目录"><a class="anchor" href="#目录">#</a> 目录</h2><p>/: 根目录，一般根目录下只存放目录，不要存放文件<br>/boot: 放置 linux 系统启动时用到的一些文件<br>/dev: 存放 linux 系统下的设备文件<br>/etc: 系统配置文件存放的目录<br>/home: 系统默认的用户家目录，新增用户账号时，用户的家目录都存放在此目录下，～表示当前用户的家目录<br>/usr: 应用程序存放目录<br>/var: 放置系统执行过程中经常变化的文件，如随时更改的日志文件 /var/log</p><h2 id="linux文件目录详细信息"><a class="anchor" href="#linux文件目录详细信息">#</a> Linux 文件目录详细信息</h2><h3 id="文件属主和属组"><a class="anchor" href="#文件属主和属组">#</a> 文件属主和属组</h3><p>为了保护系统的安全性，Linux 系统对不同的用户访问同一文件 (包括目录文件) 的权限做了不同的规定。<br>在 Linux 系统中，用户是按组分类的，一个用户属于一个或多个组。<br>对于文件来说，它都有一个特定的所有者，对该文件具有所有权的用户。<br>因此，Linux 系统按文件所有者、文件所有者同组用户和其他用户来规定了不同的文件访问权限。</p><p>使用命令 ll (ls -l 的缩写) 即可查看目录详细信息</p><p>如图，目录详细信息介绍<br><img data-src="image004.png" alt=""></p><p>文件类型：<br><img data-src="image006.png" alt=""></p><p>文件权限<br><img data-src="image007.png" alt=""><br><img data-src="image008.png" alt=""></p><details class="success"><summary>Example(点击展开)</summary><div><p>drwxr-xr-x<br>d: 目录<br>文件属主，可读可写可执行；用户组可读可执行；其他用户可读可执行。</p></div></details><p>硬链接：<br><img data-src="image005.png" alt=""></p><h3 id="相关命令"><a class="anchor" href="#相关命令">#</a> 相关命令</h3><ol><li>chmod: 修改文件的属性 (九个属性)</li></ol><p>Linux 文件属性有两种设置方法，一种是数字，一种是符号。</p><p>1. 数字类型改变权限 Linux 文件的基本属性就有九个，分别是 owner/group/others 组别的 read/write/execute 属性，-rwxrwxrwx 可以使用数字来代表各个属性:<br>r:4<br>w:2<br>x:1<br>每种身份 (owner/group/others) 各自的三个权限 (r/w/x) 分数是需要累加的，例如 a.txt 的权限为: 【-rwxrwx---】 :<br>owner = rwx = 4+2+1 =7<br>group =rwx =4+2+1=7<br>others=---= 0+0+0 =0<br>所以该文件的权限就是 770</p><p>例如：设置 aaa 的文件权限 <code>chmod 777 aaa</code></p><p>2. 符号类型改变权限<br>九个属性分别是 user,group、others<br>三个群体使用 u, g, o 来代表各自，a 则代表 all 即全部<br>读写的属性就可以写成了 r,w,x</p><p>操作符</p><table><tr><th>Operator</th><th>说明</th></tr><tr><td><tt>+</tt></td><td>为指定的用户类型增加权限</td></tr><tr><td><tt>-</tt></td><td>去除指定用户类型的权限</td></tr><tr><td><tt>=</tt></td><td>设置指定用户权限的设置，即将用户类型的所有权限重新设置</td></tr></table><p>分析一个文件的属性为 [-rwxr-xr-x] 时，基本上就是:<br>user (u): 具有可读、可写、可执行的权限；<br>group 与 others (g/o): 具有可读与执行的权限。<br>使用方法:<br><code>chmod u=rwx,go=rx test.txt</code></p><ol start="2"><li>chgrp: 更改文件属组</li></ol><p>语法:<br>chgrp [-R] 属组名文件名<br>参数选项 - R: 递归更改文件属组，就是在更改某个目录文件的属组时，如果加上 - R 的参数，那么该目录下的所有文件的属组都会更改。</p><ol start="3"><li>chown: 更改文件属主，也可以同时更改文件属组</li></ol><p>语法:<br>chown [-R] 属主名文件名<br>chown [-R] 属主名：属组名文件名</p><ol start="4"><li>文件默认权限</li></ol><p>umask 就是指定当前用户在建立文件或者目录时候的权限默认值<br>查看 umask 值:<br>umask // 以数字类型显示<br>umask-S // 以符号类型显示</p><p>umask 值默认是 022<br>建立文件，最高权限是 666: -rw-w-rw-<br>建立目录，最高权限是 777: drwxrwxrwx</p><p>umask 的数字指的是该默认值需要减掉的权限，创建一个新的文件权限是 644 (666-022) , 创建一个新的目录权限是 755 (777-022)</p><h1 id="shell脚本"><a class="anchor" href="#shell脚本">#</a> Shell 脚本</h1><p>Shell 脚本设计就是根据程序设计的三种基本结构，即顺序、选择和循环，以及 Shell 脚本的语法规则来来编写 Shell 脚本。</p><p>为了能在不同的 Shell 环境下都解释执行 Shell 脚本的第一行最好为： <code>#!/bin/bash</code> 申明该脚本有 bash 来解释，便于移植到其他系统上也以 bash 来解释。</p><h2 id="三种执行方法"><a class="anchor" href="#三种执行方法">#</a> 三种执行方法</h2><ol><li><p>sh 命令<br>这种方法不需要把编辑好的脚本权设置为可执行。只需要在当前目录下输入 “sh 脚本名”，回车即可。</p></li><li><p>./ 脚本名</p></li></ol><p>添加可执行权限，然后在当前面目录下键入./ 脚本名，回车即可。</p><ol start="3"><li>脚本名</li></ol><p>首先需要添加可执行权限，然后把脚本所在目录添加到搜索路径（./bash_profile 文件）中。</p><p>此后无论在哪里直接执行脚本名就可。</p><h2 id="shell命令的执行顺序"><a class="anchor" href="#shell命令的执行顺序">#</a> Shell 命令的执行顺序</h2><h3 id="顺序执行"><a class="anchor" href="#顺序执行">#</a> 顺序执行</h3><ol><li>顺序分隔符 (😉<br>多条命令可以在一行中输出，但各命令应以分号 (;) 隔开。</li></ol><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@node ~<span class="token punctuation">]</span><span class="token comment"># cd /home;ifconfig > 1.txt;echo 666</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">666</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">[</span>root@node home<span class="token punctuation">]</span><span class="token comment"># ls</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">1</span>.txt  hadoop</pre></td></tr></table></figure><ol start="2"><li>管道 (|)<br>管道也是顺序执行</li></ol><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@node home<span class="token punctuation">]</span><span class="token comment"># cat /etc/passwd |wc -l> 1.txt</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span>root@node home<span class="token punctuation">]</span><span class="token comment"># cat 1.txt </span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">43</span></pre></td></tr></table></figure><h3 id="逻辑与和逻辑或"><a class="anchor" href="#逻辑与和逻辑或">#</a> 逻辑与和逻辑或</h3><ol><li><p>逻辑与 (&amp;&amp;)<br>逻辑与 (&amp;&amp;) 可以把两个或两个以上命令联系在一起。<br><code>command1&amp;&amp;command2&amp;&amp;....&amp;&amp;command</code><br>功能：先运行 1，如果 1 成功则运行 2，否则不运行 2，依次类推。</p></li><li><p>逻辑或 (||)</p></li></ol><p>逻辑或 (||) <code>command1||command2||....||command</code></p><p>先运行命令 1 如果运行不成功则运行命令 2，否则不运行命令 2，依次类推。</p><h2 id="脚本中的变量"><a class="anchor" href="#脚本中的变量">#</a> 脚本中的变量</h2><ol><li>等号</li></ol><p>两个注意点：等号前后不能有空格；当需要将一个带有空格的字符串赋给变量时要用单引号括起来。</p><p>要改变变量的值，可以再次赋值。如要把它设置为只读，可在变量前面加上 readonly</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@node home<span class="token punctuation">]</span><span class="token comment"># readonly ct=$(date)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span>root@node home<span class="token punctuation">]</span><span class="token comment"># ct=1</span></pre></td></tr><tr><td data-num="3"></td><td><pre>bash: ct: 只读变量</pre></td></tr></table></figure><ol start="2"><li>read</li></ol><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">read</span></pre></td></tr><tr><td data-num="2"></td><td><pre>格式：read 【选项】 变量名</pre></td></tr><tr><td data-num="3"></td><td><pre>功能：从标准输入设备读入变量的值</pre></td></tr><tr><td data-num="4"></td><td><pre>主要选项说明：</pre></td></tr><tr><td data-num="5"></td><td><pre>-p “提示语句”  屏幕上输出的语句</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>实例</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">[</span>root@node ~<span class="token punctuation">]</span><span class="token comment"># ./test.sh </span></pre></td></tr><tr><td data-num="10"></td><td><pre>hello world</pre></td></tr><tr><td data-num="11"></td><td><pre>2geshuzhi22 <span class="token number">33</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token number">22</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token number">33</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">[</span>root@node ~<span class="token punctuation">]</span><span class="token comment"># cat test.sh </span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">#!/bin/bash</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token builtin class-name">read</span> -p <span class="token string">"2geshuzhi"</span> a b</pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token variable">$a</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token variable">$b</span></pre></td></tr></table></figure><ol start="3"><li>引用命令执行结果</li></ol><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>变量名<span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>命令<span class="token variable">`</span></span> <span class="token punctuation">(</span>两个反引号<span class="token punctuation">)</span>  或  变量名<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>命令<span class="token variable">)</span></span></pre></td></tr></table></figure><ol start="4"><li>引用（访问）变量与 echo 命令</li></ol><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>任何变量的引用都是变量前加上‘$’</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin class-name">echo</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token string">"显示的信息"</span> 或 $变量<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>-n 显示后并不自动换行</pre></td></tr></table></figure><ol start="5"><li>位置变量与 shift 命令</li></ol><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">0,1</span>,2,3<span class="token punctuation">..</span>.9 程序名赋给了0</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token builtin class-name">shift</span></pre></td></tr><tr><td data-num="5"></td><td><pre>格式：shift 【n】</pre></td></tr><tr><td data-num="6"></td><td><pre>功能：是第一个命令行参数无效，并把位置变量2的值移给位置变量1，把位置变量3的值移给位置变量2，</pre></td></tr><tr><td data-num="7"></td><td><pre>依次类推。不会改变位置参数0的值</pre></td></tr></table></figure><ol start="6"><li>其他 shell 变量</li></ol><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">#变量</span></pre></td></tr><tr><td data-num="2"></td><td><pre>该变量存放传递给shell脚本命令行参数的个数。</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">[</span>root@node ~<span class="token punctuation">]</span><span class="token comment"># cat test.sh </span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">#!/bin/bash</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token builtin class-name">read</span> -p <span class="token string">"2geshuzhi"</span> a b</pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token variable">$a</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token variable">$b</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token variable">$#</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">[</span>root@node ~<span class="token punctuation">]</span><span class="token comment"># ./test.sh </span></pre></td></tr><tr><td data-num="13"></td><td><pre>hello world</pre></td></tr><tr><td data-num="14"></td><td><pre>2geshuzhi <span class="token number">6666</span> <span class="token number">77</span> </pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token number">6666</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token number">77</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token number">0</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>?变量</pre></td></tr><tr><td data-num="20"></td><td><pre>该变量里存放Shell脚本中最后一条命令的返回码。Linux中每条命令执行完后都会返回一个值，</pre></td></tr><tr><td data-num="21"></td><td><pre>这个值称为返回码。一般执行成功返回0，不成功返回非0的值。</pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>*<span class="token punctuation">(</span>@<span class="token punctuation">)</span>变量</pre></td></tr><tr><td data-num="24"></td><td><pre>该变量存放所有输入的命令行参数，并且每个参数之间用空格隔开。</pre></td></tr><tr><td data-num="25"></td><td><pre>在Linux系统中使用*或@变量是等价的。</pre></td></tr></table></figure><h2 id="流程控制语句"><a class="anchor" href="#流程控制语句">#</a> 流程控制语句</h2><h3 id="if语句"><a class="anchor" href="#if语句">#</a> if 语句</h3><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>两路分支（若没有else则变成一路分支）</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">if</span>  判断条件</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">then</span> 命令1</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">else</span> 命令2</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">fi</span></pre></td></tr><tr><td data-num="6"></td><td><pre>多路分支</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">if</span>  判断条件1</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">then</span> 命令1</pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">elif</span> 判断条件1</pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">then</span> 命令2</pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">..</span>.</pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">else</span> 命令n</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">fi</span></pre></td></tr></table></figure><h3 id="测试语句"><a class="anchor" href="#测试语句">#</a> 测试语句</h3><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>测试语句计算一个表达式的值并返回‘真’或‘假’。该语句有两种语法格式，一种是使用关键字test</pre></td></tr><tr><td data-num="2"></td><td><pre>，另一种是使用方括号。格式如下：</pre></td></tr><tr><td data-num="3"></td><td><pre>格式1：</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token builtin class-name">test</span> expression</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>格式2</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">[</span>expression<span class="token punctuation">]</span></pre></td></tr></table></figure><h3 id="case语句"><a class="anchor" href="#case语句">#</a> case 语句</h3><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>Shell case语句为多选择语句。可以用case语句匹配一个值与一个模式，如果匹配成功，</pre></td></tr><tr><td data-num="2"></td><td><pre>执行相匹配的命令。case语句格式如下：</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">case</span> 值 <span class="token keyword">in</span></pre></td></tr><tr><td data-num="5"></td><td><pre>模式1<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    command1</pre></td></tr><tr><td data-num="7"></td><td><pre>    command2</pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token punctuation">..</span>.</pre></td></tr><tr><td data-num="9"></td><td><pre>    commandN</pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>模式2）</pre></td></tr><tr><td data-num="12"></td><td><pre>    command1</pre></td></tr><tr><td data-num="13"></td><td><pre>    command2</pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token punctuation">..</span>.</pre></td></tr><tr><td data-num="15"></td><td><pre>    commandN</pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">esac</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>case工作方式如上所示。取值后面必须为单词in，每一模式必须以右括号结束。取值可以为变量或常数。</pre></td></tr><tr><td data-num="20"></td><td><pre>匹配发现取值符合某一模式后，其间所有命令开始执行直至 <span class="token punctuation">;</span><span class="token punctuation">;</span>。</pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre>取值将检测匹配的每一个模式。一旦模式匹配，则执行完匹配模式相应命令后不再继续其他模式。</pre></td></tr><tr><td data-num="23"></td><td><pre>如果无一匹配模式，使用星号 * 捕获该值，再执行后面的命令。</pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre>下面的脚本提示输入1到4，与每一种模式进行匹配：</pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre>实例</pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token string">'输入 1 到 4 之间的数字:'</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token string">'你输入的数字为:'</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token builtin class-name">read</span> aNum</pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token keyword">case</span> <span class="token variable">$aNum</span> <span class="token keyword">in</span></pre></td></tr><tr><td data-num="32"></td><td><pre>    <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 1'</span></pre></td></tr><tr><td data-num="33"></td><td><pre>    <span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 2'</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 3'</span></pre></td></tr><tr><td data-num="37"></td><td><pre>    <span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>    <span class="token number">4</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 4'</span></pre></td></tr><tr><td data-num="39"></td><td><pre>    <span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>    *<span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你没有输入 1 到 4 之间的数字'</span></pre></td></tr><tr><td data-num="41"></td><td><pre>    <span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token keyword">esac</span></pre></td></tr><tr><td data-num="43"></td><td><pre>输入不同的内容，会有不同的结果，例如：</pre></td></tr><tr><td data-num="44"></td><td><pre></pre></td></tr><tr><td data-num="45"></td><td><pre>输入 <span class="token number">1</span> 到 <span class="token number">4</span> 之间的数字:</pre></td></tr><tr><td data-num="46"></td><td><pre>你输入的数字为:</pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token number">3</span></pre></td></tr><tr><td data-num="48"></td><td><pre>你选择了 <span class="token number">3</span></pre></td></tr></table></figure><h3 id="for语句"><a class="anchor" href="#for语句">#</a> for 语句</h3><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>for循环一般格式为：</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> item1 item2 <span class="token punctuation">..</span>. itemN</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    command1</pre></td></tr><tr><td data-num="7"></td><td><pre>    command2</pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token punctuation">..</span>.</pre></td></tr><tr><td data-num="9"></td><td><pre>    commandN</pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">done</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>实例</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">for</span> <span class="token for-or-select variable">loop</span> <span class="token keyword">in</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token builtin class-name">echo</span> <span class="token string">"The value is: <span class="token variable">$loop</span>"</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">done</span></pre></td></tr><tr><td data-num="17"></td><td><pre>输出结果：</pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>The value is: <span class="token number">1</span></pre></td></tr><tr><td data-num="20"></td><td><pre>The value is: <span class="token number">2</span></pre></td></tr><tr><td data-num="21"></td><td><pre>The value is: <span class="token number">3</span></pre></td></tr><tr><td data-num="22"></td><td><pre>The value is: <span class="token number">4</span></pre></td></tr><tr><td data-num="23"></td><td><pre>The value is: <span class="token number">5</span></pre></td></tr></table></figure><h3 id="while语句"><a class="anchor" href="#while语句">#</a> while 语句</h3><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>while循环用于不断执行一系列命令，也用于从输入文件中读取数据；命令通常为测试条件。其格式为：</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">while</span> condition</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token builtin class-name">command</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">done</span></pre></td></tr><tr><td data-num="7"></td><td><pre>以下是一个基本的while循环，测试条件是：如果int小于等于5，那么条件返回真。int从0开始，每次循环处理时，int加1。运行上述脚本，返回数字1到5，然后终止。</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>实例</pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">#!/bin/bash</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token assign-left variable">int</span><span class="token operator">=</span><span class="token number">1</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">while</span><span class="token variable"><span class="token punctuation">((</span> $int<span class="token operator">&lt;=</span><span class="token number">5</span> <span class="token punctuation">))</span></span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token builtin class-name">echo</span> <span class="token variable">$int</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token builtin class-name">let</span> <span class="token string">"int++"</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">done</span></pre></td></tr><tr><td data-num="17"></td><td><pre>运行脚本，输出：</pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token number">1</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token number">2</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token number">3</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token number">4</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token number">5</span></pre></td></tr><tr><td data-num="24"></td><td><pre>以上实例使用了 Bash <span class="token builtin class-name">let</span> 命令，它用于执行一个或多个表达式，变量计算中不需要加上 $ 来表示变量。</pre></td></tr></table></figure><h3 id="无限循环"><a class="anchor" href="#无限循环">#</a> 无限循环</h3><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>无限循环</pre></td></tr><tr><td data-num="2"></td><td><pre>无限循环语法格式：</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">while</span> <span class="token builtin class-name">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token builtin class-name">command</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">done</span></pre></td></tr><tr><td data-num="8"></td><td><pre>或者</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">while</span> <span class="token boolean">true</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token builtin class-name">command</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">done</span></pre></td></tr><tr><td data-num="14"></td><td><pre>或者</pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> <span class="token punctuation">;</span> <span class="token punctuation">;</span> <span class="token punctuation">))</span></span></pre></td></tr></table></figure><h3 id="until-语句"><a class="anchor" href="#until-语句">#</a> until 语句</h3><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">until</span> 循环执行一系列命令直至条件为 <span class="token boolean">true</span> 时停止。</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">until</span> 循环与 <span class="token keyword">while</span> 循环在处理方式上刚好相反。</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>一般 <span class="token keyword">while</span> 循环优于 <span class="token keyword">until</span> 循环，但在某些时候—也只是极少数情况下，until 循环更加有用。</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">until</span> 语法格式:</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">until</span> condition</pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token builtin class-name">command</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">done</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>condition 一般为条件表达式，如果返回值为 false，则继续执行循环体内的语句，否则跳出循环。</pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>以下实例我们使用 <span class="token keyword">until</span> 命令来输出 <span class="token number">0</span> ~ <span class="token number">9</span> 的数字：</pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>实例</pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment">#!/bin/bash</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token keyword">until</span> <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token variable">$a</span> -lt <span class="token number">10</span> <span class="token punctuation">]</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">do</span></pre></td></tr><tr><td data-num="25"></td><td><pre>   <span class="token builtin class-name">echo</span> <span class="token variable">$a</span></pre></td></tr><tr><td data-num="26"></td><td><pre>   <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a + <span class="token number">1</span><span class="token variable">`</span></span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token keyword">done</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">#### expr 表达式 表示求表达式的值</span></pre></td></tr><tr><td data-num="30"></td><td><pre>运行结果：</pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre>输出结果为：</pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token number">0</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token number">1</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token number">2</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token number">3</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token number">4</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token number">5</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token number">6</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token number">7</span></pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token number">8</span></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token number">9</span></pre></td></tr></table></figure><h1 id="附上思维导图"><a class="anchor" href="#附上思维导图">#</a> 附上思维导图</h1><p>右键新标签页查看</p><p><img data-src="image003.png" alt=""></p><div class="tags"><a href="/tags/Linux/" rel="tag"><i class="ic i-tag"></i> Linux</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2021-03-03 16:52:30" itemprop="dateModified" datetime="2021-03-03T16:52:30+08:00">2021-03-03</time> </span><span id="Linux/Linux-Reviewing/" class="item leancloud_visitors" data-flag-title="初学Linux" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/reward.jpg" alt="Or0kit 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Or0kit <i class="ic i-at"><em>@</em></i>Or0kit</li><li class="link"><strong>本文链接：</strong> <a href="https://or0kit.github.io/Linux/Linux-Reviewing/" title="初学Linux">https://or0kit.github.io/Linux/Linux-Reviewing/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/PenetrationTest/Web-Security/SQL-injection-payload-list/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva2.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclga70tsj20zk0m84mr.jpg" title="SQL-injection-payload-list【转】"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> web安全</span><h3>SQL-injection-payload-list【转】</h3></a></div><div class="item right"><a href="/Programming/Python/Python-converts-pictures-into-character-drawings/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva2.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipeyonbf9j20zk0m8e81.jpg" title="Python converts pictures into character drawings"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> Python</span><h3>Python converts pictures into character drawings</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text">基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#linux%E6%98%AF%E8%B0%81%E5%BC%80%E5%8F%91%E7%9A%84-%E6%98%AF%E7%94%A8%E4%BB%80%E4%B9%88%E8%AF%AD%E8%A8%80%E5%BC%80%E5%8F%91%E7%9A%84-unix%E7%9A%84%E5%BC%80%E6%BA%90%E7%B2%BE%E7%A5%9E"><span class="toc-number">1.1.</span> <span class="toc-text">Linux 是谁开发的、是用什么语言开发的、Unix 的开源精神</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mbr%E7%AE%80%E4%BB%8B"><span class="toc-number">1.2.</span> <span class="toc-text">MBR 简介</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#linux%E4%B8%8B%E7%9A%84shell%E7%9B%B8%E5%85%B3%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">2.</span> <span class="toc-text">Linux 下的 shell 相关的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#shell%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">2.1.</span> <span class="toc-text">shell 的分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E7%9A%84shell%E5%91%BD%E4%BB%A4"><span class="toc-number">2.2.</span> <span class="toc-text">简单的 shell 命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">2.2.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pwd"><span class="toc-number">2.2.2.</span> <span class="toc-text">pwd</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cd"><span class="toc-number">2.2.3.</span> <span class="toc-text">cd</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ls"><span class="toc-number">2.2.4.</span> <span class="toc-text">ls</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#date"><span class="toc-number">2.2.5.</span> <span class="toc-text">date</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cal"><span class="toc-number">2.2.6.</span> <span class="toc-text">cal</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#who"><span class="toc-number">2.2.7.</span> <span class="toc-text">who</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clear"><span class="toc-number">2.2.8.</span> <span class="toc-text">clear</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%B8%AE%E5%8A%A9"><span class="toc-number">2.3.</span> <span class="toc-text">获取帮助</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#whatis"><span class="toc-number">2.3.1.</span> <span class="toc-text">whatis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-help"><span class="toc-number">2.3.2.</span> <span class="toc-text">--help</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#man"><span class="toc-number">2.3.3.</span> <span class="toc-text">man</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#info"><span class="toc-number">2.3.4.</span> <span class="toc-text">info</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#usrsharedoc"><span class="toc-number">2.3.5.</span> <span class="toc-text">&#x2F;usr&#x2F;share&#x2F;doc</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bash%E5%8F%98%E9%87%8F"><span class="toc-number">2.4.</span> <span class="toc-text">bash 变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E8%AE%BE%E7%BD%AE%E4%B8%8E%E5%BC%95%E7%94%A8"><span class="toc-number">2.4.1.</span> <span class="toc-text">变量的设置与引用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">2.4.2.</span> <span class="toc-text">环境变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8Eshell%E6%9C%89%E5%85%B3%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">2.5.</span> <span class="toc-text">与 shell 有关的配置文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95%E5%91%BD%E4%BB%A4"><span class="toc-number">2.6.</span> <span class="toc-text">历史记录命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E9%85%8D%E7%AC%A6"><span class="toc-number">2.7.</span> <span class="toc-text">通配符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%AB%E5%90%8D"><span class="toc-number">2.8.</span> <span class="toc-text">别名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%BB%E9%99%A4%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7%E7%9A%84%E6%84%8F%E4%B9%89"><span class="toc-number">2.9.</span> <span class="toc-text">去除特殊符号的意义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">2.10.</span> <span class="toc-text">重定向</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">2.10.1.</span> <span class="toc-text">输出重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%84%E5%8A%A0%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">2.10.2.</span> <span class="toc-text">附加输出重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">2.10.3.</span> <span class="toc-text">错误输出重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">2.10.4.</span> <span class="toc-text">组合输出重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">2.10.5.</span> <span class="toc-text">输入重定向</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%A1%E9%81%93"><span class="toc-number">2.11.</span> <span class="toc-text">管道</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">2.11.1.</span> <span class="toc-text">命令执行顺序控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%A1%E9%81%93%E5%91%BD%E4%BB%A4"><span class="toc-number">2.11.2.</span> <span class="toc-text">管道命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7"><span class="toc-number">2.12.</span> <span class="toc-text">文本处理工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E5%8F%96%E6%96%87%E6%9C%AC"><span class="toc-number">2.12.1.</span> <span class="toc-text">提取文本</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="toc-number">2.12.1.1.</span> <span class="toc-text">查看文件内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%A7%E7%9C%8B%E6%96%87%E4%BB%B6%E6%91%98%E5%BD%95"><span class="toc-number">2.12.1.2.</span> <span class="toc-text">产看文件摘录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E5%85%B3%E9%94%AE%E5%AD%97%E6%8F%90%E5%8F%96%E6%96%87%E6%9C%AC"><span class="toc-number">2.12.1.3.</span> <span class="toc-text">按关键字提取文本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E5%88%97%E6%88%96%E5%AD%97%E6%AE%B5%E6%8F%90%E5%8F%96%E6%96%87%E6%9C%AC"><span class="toc-number">2.12.1.4.</span> <span class="toc-text">按列或字段提取文本</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E6%96%87%E6%9C%AC"><span class="toc-number">2.12.2.</span> <span class="toc-text">分析文本</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%9F%E8%AE%A1%E6%96%87%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-number">2.12.2.1.</span> <span class="toc-text">统计文本信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E5%91%BD%E4%BB%A4"><span class="toc-number">2.12.2.2.</span> <span class="toc-text">排序命令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E6%96%87%E6%9C%AC"><span class="toc-number">2.12.3.</span> <span class="toc-text">处理文本</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2%E5%AD%97%E7%AC%A6"><span class="toc-number">2.12.3.1.</span> <span class="toc-text">转换字符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E6%9B%BF%E6%8D%A2"><span class="toc-number">2.12.3.2.</span> <span class="toc-text">查找替换</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#linux%E4%B8%AD%E7%9A%84shell%E5%A6%82%E4%BD%95%E5%88%87%E6%8D%A2"><span class="toc-number">2.13.</span> <span class="toc-text">Linux 中的 shell 如何切换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vi%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-number">2.14.</span> <span class="toc-text">vi 编辑器</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%94%A8%E6%88%B7-%E7%BB%84%E5%92%8C%E6%9D%83%E9%99%90"><span class="toc-number">3.</span> <span class="toc-text">用户、组和权限</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E8%B4%A6%E6%88%B7%E7%AE%A1%E7%90%86"><span class="toc-number">3.1.</span> <span class="toc-text">用户账户管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E7%9A%84%E5%8D%95%E7%94%A8%E6%88%B7%E5%A4%9A%E4%BB%BB%E5%8A%A1"><span class="toc-number">3.1.1.</span> <span class="toc-text">Linux 的单用户多任务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E7%9A%84%E5%A4%9A%E7%94%A8%E6%88%B7%E5%A4%9A%E4%BB%BB%E5%8A%A1"><span class="toc-number">3.1.2.</span> <span class="toc-text">Linux 的多用户多任务</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#linux%E7%B3%BB%E7%BB%9F%E7%94%A8%E6%88%B7%E8%A7%92%E8%89%B2%E5%88%92%E5%88%86"><span class="toc-number">3.2.</span> <span class="toc-text">linux 系统用户角色划分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%8F%8A%E7%94%A8%E6%88%B7%E7%BB%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D"><span class="toc-number">3.3.</span> <span class="toc-text">用户及用户组配置文件介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8E%E7%94%A8%E6%88%B7%E7%9B%B8%E5%85%B3%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">3.3.1.</span> <span class="toc-text">与用户相关的配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#passwd%E4%B8%AD%E6%9C%89%E5%85%B3uid%E7%9A%84%E9%99%90%E5%88%B6%E8%AF%B4%E6%98%8E"><span class="toc-number">3.3.1.1.</span> <span class="toc-text">passwd 中有关 UID 的限制说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%9A%84%E5%BD%B1%E5%AD%90%E5%8F%A3%E4%BB%A4%E6%96%87%E4%BB%B6etcshadow"><span class="toc-number">3.3.1.2.</span> <span class="toc-text">用户的影子口令文件 &#x2F;etc&#x2F;shadow</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BB%84%E7%9B%B8%E5%85%B3%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">3.3.2.</span> <span class="toc-text">与用户组相关的配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BB%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6etcgroup"><span class="toc-number">3.3.2.1.</span> <span class="toc-text">用户组配置文件 &#x2F;etc&#x2F;group</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BB%84%E7%9A%84%E5%BD%B1%E5%AD%90%E6%96%87%E4%BB%B6etcgshadow"><span class="toc-number">3.3.2.2.</span> <span class="toc-text">用户组的影子文件 &#x2F;etc&#x2F;gshadow</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">3.4.</span> <span class="toc-text">常用命令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">4.</span> <span class="toc-text">文件系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95"><span class="toc-number">4.1.</span> <span class="toc-text">目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#linux%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF"><span class="toc-number">4.2.</span> <span class="toc-text">Linux 文件目录详细信息</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%B1%9E%E4%B8%BB%E5%92%8C%E5%B1%9E%E7%BB%84"><span class="toc-number">4.2.1.</span> <span class="toc-text">文件属主和属组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-number">4.2.2.</span> <span class="toc-text">相关命令</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#shell%E8%84%9A%E6%9C%AC"><span class="toc-number">5.</span> <span class="toc-text">Shell 脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E6%89%A7%E8%A1%8C%E6%96%B9%E6%B3%95"><span class="toc-number">5.1.</span> <span class="toc-text">三种执行方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shell%E5%91%BD%E4%BB%A4%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F"><span class="toc-number">5.2.</span> <span class="toc-text">Shell 命令的执行顺序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E6%89%A7%E8%A1%8C"><span class="toc-number">5.2.1.</span> <span class="toc-text">顺序执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E4%B8%8E%E5%92%8C%E9%80%BB%E8%BE%91%E6%88%96"><span class="toc-number">5.2.2.</span> <span class="toc-text">逻辑与和逻辑或</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E5%8F%98%E9%87%8F"><span class="toc-number">5.3.</span> <span class="toc-text">脚本中的变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.4.</span> <span class="toc-text">流程控制语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#if%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.4.1.</span> <span class="toc-text">if 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.4.2.</span> <span class="toc-text">测试语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#case%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.4.3.</span> <span class="toc-text">case 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#for%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.4.4.</span> <span class="toc-text">for 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#while%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.4.5.</span> <span class="toc-text">while 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E9%99%90%E5%BE%AA%E7%8E%AF"><span class="toc-number">5.4.6.</span> <span class="toc-text">无限循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#until-%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.4.7.</span> <span class="toc-text">until 语句</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%99%84%E4%B8%8A%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE"><span class="toc-number">6.</span> <span class="toc-text">附上思维导图</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/Linux/linux%E5%91%BD%E4%BB%A4scp--%E8%BF%9C%E7%A8%8B%E6%8B%B7%E8%B4%9D%E6%96%87%E4%BB%B6%E3%80%90%E8%BD%AC%E3%80%91/" rel="bookmark" title="linux命令scp--远程拷贝文件【转】">linux命令scp--远程拷贝文件【转】</a></li><li class="active"><a href="/Linux/Linux-Reviewing/" rel="bookmark" title="初学Linux">初学Linux</a></li><li><a href="/Linux/linux%E8%BF%9B%E9%98%B6/" rel="bookmark" title="linux进阶学习">linux进阶学习</a></li><li><a href="/Linux/Linux%E9%85%8D%E7%BD%AEvsftp/" rel="bookmark" title="Linux配置vsftp">Linux配置vsftp</a></li><li><a href="/Linux/Linux%E4%B8%AD%E7%9A%84su%E4%B8%8Esu-%E5%91%BD%E4%BB%A4%E7%9A%84%E5%8C%BA%E5%88%AB/" rel="bookmark" title="Linux中的su与su -命令的区别">Linux中的su与su -命令的区别</a></li><li><a href="/Linux/Linux%E9%85%8D%E7%BD%AENginx%E6%9C%8D%E5%8A%A1/" rel="bookmark" title="Linux配置Nginx服务">Linux配置Nginx服务</a></li><li><a href="/Linux/Linux%E9%98%B2%E7%81%AB%E5%A2%99-Psad%E5%AE%89%E8%A3%85/" rel="bookmark" title="Linux防火墙--Psad安装">Linux防火墙--Psad安装</a></li><li><a href="/Linux/Linux%E9%98%B2%E7%81%AB%E5%A2%99-psad%E6%A3%80%E6%B5%8B%E5%8F%AF%E7%96%91%E6%B5%81%E9%87%8F/" rel="bookmark" title="Linux防火墙-psad检测可疑流量">Linux防火墙-psad检测可疑流量</a></li><li><a href="/Linux/Linux%E9%98%B2%E7%81%AB%E5%A2%99-Psad%E7%9A%84%E7%AD%BE%E5%90%8D%E5%8C%B9%E9%85%8D/" rel="bookmark" title="Linux防火墙-Psad的签名匹配">Linux防火墙-Psad的签名匹配</a></li><li><a href="/Linux/Linux%E9%98%B2%E7%81%AB%E5%A2%99-fwsnort%E7%9A%84%E5%AE%89%E8%A3%85/" rel="bookmark" title="Linux防火墙-fwsnort的安装">Linux防火墙-fwsnort的安装</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Or0kit" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Or0kit</p><div class="description" itemprop="description">临渊羡鱼，不如退而结网</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">213</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">48</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">386</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29t" title="https:&#x2F;&#x2F;github.com"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;twitter.com&#x2F;yourname"><i class="ic i-twitter"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;yourname"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPXlvdXJuYW1l" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;yourname"><i class="ic i-cloud-music"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20veW91cm5hbWU=" title="https:&#x2F;&#x2F;weibo.com&#x2F;yourname"><i class="ic i-weibo"></i></span> <span class="exturl item youtube" data-url="aHR0cHM6Ly95b3V0dWJlLmNvbS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;youtube.com&#x2F;yourname"><i class="ic i-youtube"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>links</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/PenetrationTest/Web-Security/SQL-injection-payload-list/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/Programming/Python/Python-converts-pictures-into-character-drawings/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/PenetrationTest/" title="分类于 渗透测试">渗透测试</a> <i class="ic i-angle-right"></i> <a href="/categories/PenetrationTest/Web-Security/" title="分类于 web安全">web安全</a></div><span><a href="/PenetrationTest/Web-Security/web%E6%BC%8F%E6%B4%9E-CSRF/" title="web漏洞-CSRF">web漏洞-CSRF</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Programming/" title="分类于 编程">编程</a> <i class="ic i-angle-right"></i> <a href="/categories/Programming/STL/" title="分类于 STL">STL</a></div><span><a href="/Programming/STL/STL%E8%BF%AD%E4%BB%A3%E5%99%A8/" title="STL迭代器">STL迭代器</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Bin/" title="分类于 逆向">逆向</a> <i class="ic i-angle-right"></i> <a href="/categories/Bin/Core/" title="分类于 内核学习">内核学习</a> <i class="ic i-angle-right"></i> <a href="/categories/Bin/Core/WindowsXp/" title="分类于 Xp内核分析">Xp内核分析</a> <i class="ic i-angle-right"></i> <a href="/categories/Bin/Core/WindowsXp/Protect-Mode/" title="分类于 保护模式">保护模式</a></div><span><a href="/Bin/Core/WindowsXp/Protect-Mode/%E4%BF%9D%E6%8A%A4%E6%A8%A1%E5%BC%8F-%E4%B8%AD%E6%96%AD%E4%B8%8E%E5%BC%82%E5%B8%B8/" title="保护模式-中断与异常">保护模式-中断与异常</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Linux/" title="分类于 Linux">Linux</a></div><span><a href="/Linux/Linux%E9%85%8D%E7%BD%AEvsftp/" title="Linux配置vsftp">Linux配置vsftp</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Bin/" title="分类于 逆向">逆向</a> <i class="ic i-angle-right"></i> <a href="/categories/Bin/Win32/" title="分类于 Win32">Win32</a></div><span><a href="/Bin/Win32/%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6%E4%B8%8E%E6%B6%88%E6%81%AF%E6%96%AD%E7%82%B9/" title="资源文件与消息断点">资源文件与消息断点</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Programming/" title="分类于 编程">编程</a> <i class="ic i-angle-right"></i> <a href="/categories/Programming/MFC/" title="分类于 MFC">MFC</a></div><span><a href="/Programming/MFC/MFC-05Tab%E6%A0%87%E7%AD%BE%E6%8E%A7%E4%BB%B6/" title="MFC-05Tab标签控件">MFC-05Tab标签控件</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%8A%A0%E5%AF%86%E4%B8%8E%E8%A7%A3%E5%AF%86/" title="分类于 加密与解密">加密与解密</a></div><span><a href="/%E3%80%8A%E5%8A%A0%E5%AF%86%E4%B8%8E%E8%A7%A3%E5%AF%86%E3%80%8B%E7%AC%AC%E4%B8%80%E7%AB%A0/" title="《加密与解密》第一章">《加密与解密》第一章</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Programming/" title="分类于 编程">编程</a> <i class="ic i-angle-right"></i> <a href="/categories/Programming/Python/" title="分类于 Python">Python</a></div><span><a href="/Programming/Python/BHP%E7%AC%AC%E4%BA%8C%E7%AB%A0%EF%BC%88%E4%B8%89%EF%BC%89-SSH%E4%B8%8ESSH%E9%9A%A7%E9%81%93/" title="BHP第二章（三）-SSH与SSH隧道">BHP第二章（三）-SSH与SSH隧道</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Bin/" title="分类于 逆向">逆向</a> <i class="ic i-angle-right"></i> <a href="/categories/Bin/WindowsPE/" title="分类于 WindowsPE">WindowsPE</a></div><span><a href="/Bin/WindowsPE/%E5%9C%A8%E7%A9%BA%E7%99%BD%E5%8C%BA%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81/" title="在空白区添加代码">在空白区添加代码</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Bin/" title="分类于 逆向">逆向</a> <i class="ic i-angle-right"></i> <a href="/categories/Bin/WindowsPE/" title="分类于 WindowsPE">WindowsPE</a></div><span><a href="/Bin/WindowsPE/%E7%A7%BB%E5%8A%A8%E5%AF%BC%E5%87%BA%E8%A1%A8%E4%B8%8E%E9%87%8D%E5%AE%9A%E4%BD%8D%E8%A1%A8/" title="移动导出表与重定位表">移动导出表与重定位表</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Or0kit @ Or0kit</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">1.7m 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">25:02</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"Linux/Linux-Reviewing/",favicon:{show:"╰(*°▽°*)╯正在变强中",hide:"(ー`′ー)快回来"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{scale:1,hHeadPos:.5,vHeadPos:.618,jsonPath:"/live2dw/assets/koharu.model.json"},display:{superSample:2,width:150,height:300,position:"right",hOffset:0,vOffset:-20},mobile:{show:!0,scale:.5},react:{opacityDefault:.7,opacityOnHover:.8},log:!1})</script></body></html><!-- rebuild by hrmmi -->