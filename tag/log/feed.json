{
    "version": "https://jsonfeed.org/version/1",
    "title": "Or0kit • All posts by \"log\" tag",
    "description": "临渊羡鱼，不如退而结网",
    "home_page_url": "https://Or0kit.github.io",
    "items": [
        {
            "id": "https://or0kit.github.io/PenetrationTest/Web-Security/apache%E8%AE%BF%E9%97%AE%E6%97%A5%E5%BF%97%E8%AF%A6%E8%A7%A3%E3%80%90%E8%BD%AC%E3%80%91/",
            "url": "https://or0kit.github.io/PenetrationTest/Web-Security/apache%E8%AE%BF%E9%97%AE%E6%97%A5%E5%BF%97%E8%AF%A6%E8%A7%A3%E3%80%90%E8%BD%AC%E3%80%91/",
            "title": "apache访问日志详解【转】",
            "date_published": "2021-01-22T14:37:03.000Z",
            "content_html": "<h1 id=\"正文\"><a class=\"anchor\" href=\"#正文\">#</a> 正文</h1>\n<p><span class=\"label dergous\">源自：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vdG91Y2gtcHJjL3AvMTI3NTYxODkuaHRtbA==\">https://www.cnblogs.com/touch-prc/p/12756189.html</span></span></p>\n<h2 id=\"路径\"><a class=\"anchor\" href=\"#路径\">#</a> 路径</h2>\n<p>windows : 默认或者自定义 Apache 的安装路径 \\logs\\access.log|error.log|install|ssl_request.log</p>\n<p>linux:/usr/local/apache/logs/access_log|error_log</p>\n<h2 id=\"apache访问日志格式\"><a class=\"anchor\" href=\"#apache访问日志格式\">#</a> Apache 访问日志格式</h2>\n<p>192.168.106.128 - - [01/Apr/2020:10:37:19 +0800] &quot;GET /HTTP/1.1&quot; 200 45</p>\n<p>各字段代表的内容如下：</p>\n<p>192.168.106.128   ---------- 远程主机的 ip 地址，表明访问网站的是谁。</p>\n<p>空白 -                       ---------- 为了避免用户的邮箱被垃圾邮件骚扰，就用 - 代替</p>\n<p>空白 -                       ---------- 用于记录浏览者进行身份验证时提供的名字</p>\n<p>[01/Apr/2020:10:37:19 +0800] --------- 请求的时间。时间信息最后的 + 0800 是服务器所在时区未于 UTC 之后的 8 小时</p>\n<p>GET /HTTP/1.1                  ---------- 请求的方法 + 资源 + 协议，该项信息的典型格式是 method resource protocol</p>\n<p>200                          -------- 状态码，即请求是否成功或者遇到了什么问题。200 为成功响应请求，一切正常</p>\n<p>45                           ----------  发送的字节数</p>\n<h2 id=\"配置apache访问日志格式命令及参数\"><a class=\"anchor\" href=\"#配置apache访问日志格式命令及参数\">#</a> 配置 Apache 访问日志格式命令及参数</h2>\n<p>LogFormat 指令：定义格式并为格式指定一个名字</p>\n<p>CustomLog 指令：设置日志文件并指明日志文件所用的格式</p>\n<p>LogFormat &quot;% h % l % u % t&quot;% r&quot;%&gt;s % b&quot; common   定义格式和名字</p>\n<p>CustomLog &quot;logs/access.log&quot; common    普通文件记录</p>\n<table style=\"height: 41px; width: 452px\" border=\"0\">\n<tr>\n<td style=\"text-align: center\">%h</td>\n<td style=\"text-align: center\">%i</td>\n<td style=\"text-align: center\">%t</td>\n<td style=\"text-align: center\">%u</td>\n<td style=\"text-align: center\">%r</td>\n<td style=\"text-align: center\">%b</td>\n<td style=\"text-align: center\">%&gt;s</td>\n</tr>\n<tr>\n<td style=\"text-align: center\">远端主机</td>\n<td style=\"text-align: center\">远端登录名</td>\n<td style=\"text-align: center\">远端用户名</td>\n<td style=\"text-align: center\">时间</td>\n<td style=\"text-align: center\">请求第一行</td>\n<td style=\"text-align: center\">传输字节数</td>\n<td style=\"text-align: center\">状态</td>\n</tr>\n</table>\n<p>LogFormat &quot;%h %l %u %t &quot;%r&quot; %&gt;s %b &quot;%{Referer}i&quot; &quot;%{User-Agent}i&quot;&quot; combined</p>\n<p>CustomLog logs/access_log combined 复合日志记录</p>\n<table border=\"0\" align=\"left\">\n<tr>\n<td>%{Referer}i\\</td>\n<td style=\"text-align: center\">\\\"%{User-Agent}i\\</td>\n</tr>\n<tr>\n<td>请求来源</td>\n<td>客户端浏览器提供的浏览器识别信息</td>\n</tr>\n</table>\n<h2 id=\"apache错误日志格式\"><a class=\"anchor\" href=\"#apache错误日志格式\">#</a> Apache 错误日志格式</h2>\n<p>错误日志无论在格式上还是在内容上都和访问日志不同。错误日志和访问日志一样提供丰富的信息，我们可以利用这些信息分析服务器的运行情况、哪里出现了问题。错误日志记录了服务器运行期间遇到的各种错误，以及一些普通的诊断信息，比如服务器何时启动、何时关闭等。我们可以设置日志文件记录信息级别的高低，控制日志文件记录信息的数量和类型。这是通过 LogLevel 指令设置的，该指令默认设置的级别是 error，即记录称得上错误的事件。有关该指令中允许设置的各种选项的完整清单，请参见 http://www.apache.org/docs/mod/core.html#loglevel 的 Apache 文档。在日志文件中的内容分属两类：文档错误和 CGI 错误。错误日志中偶尔也会出现配置错误，另外还有前面提到的服务器启动和关闭信息。</p>\n<h3 id=\"1文档错误\"><a class=\"anchor\" href=\"#1文档错误\">#</a> （1）文档错误</h3>\n<p>[Fri Mar 30 14:45:09 2018] [error] [client 192.168.115.120]</p>\n<p>user <span class=\"exturl\" data-url=\"bWFpbHRvOmNldmFwaUBzaW5nLmNvbQ==\">cevapi@sing.com</span> : authentication failure for &quot;/cgi-bin/hivpoo/cook.py&quot; : password mismatch</p>\n<ol>\n<li>\n<p>错误发生的日期和时间</p>\n</li>\n<li>\n<p>错误的级别或严重性</p>\n</li>\n<li>\n<p>导致错误的 IP 地址</p>\n</li>\n<li>\n<p>错误信息本身。</p>\n</li>\n</ol>\n<h3 id=\"2cgi错误\"><a class=\"anchor\" href=\"#2cgi错误\">#</a> （2）CGI 错误</h3>\n<p>错误日志最主要的用途或许是诊断行为异常的 CGI 程序。为了进一步分析和处理方便，CGI 程序输出到 STDERR（Standard Error，标准错误设备）的所有内容都将直接进入错误日志。这意味着，任何编写良好的 CGI 程序，如果出现了问题，错误日志就会告诉我们有关问题的详细信息。CGI 程序错误输出到错误日志也有它的缺点，错误日志中将出现许多没有标准格式的内容，这使得用错误日志自动分析程序从中分析出有用的信息变得相当困难。</p>\n",
            "tags": [
                "apache",
                "log"
            ]
        }
    ]
}