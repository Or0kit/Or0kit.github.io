{
    "version": "https://jsonfeed.org/version/1",
    "title": "Or0kit â€¢ All posts by \"é™æ€é“¾æ¥åº“\" tag",
    "description": "ä¸´æ¸Šç¾¡é±¼ï¼Œä¸å¦‚é€€è€Œç»“ç½‘",
    "home_page_url": "https://Or0kit.github.io",
    "items": [
        {
            "id": "https://or0kit.github.io/Bin/WindowsPE/%E9%9D%99%E6%80%81%E3%80%81%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93%E3%80%81%E5%8F%A5%E6%9F%84/",
            "url": "https://or0kit.github.io/Bin/WindowsPE/%E9%9D%99%E6%80%81%E3%80%81%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93%E3%80%81%E5%8F%A5%E6%9F%84/",
            "title": "é™æ€ã€åŠ¨æ€é“¾æ¥åº“ã€å¥æŸ„",
            "date_published": "2021-05-06T06:23:36.000Z",
            "content_html": "<h1 id=\"åº“çš„ä»‹ç»\"><a class=\"anchor\" href=\"#åº“çš„ä»‹ç»\">#</a> åº“çš„ä»‹ç»</h1>\n<p>åº“æ˜¯å†™å¥½çš„ç°æœ‰çš„ï¼Œæˆç†Ÿçš„ï¼Œå¯ä»¥å¤ç”¨çš„ä»£ç ã€‚ç°å®ä¸­æ¯ä¸ªç¨‹åºéƒ½è¦ä¾èµ–å¾ˆå¤šåŸºç¡€çš„åº•å±‚åº“ï¼Œä¸å¯èƒ½æ¯ä¸ªäººçš„ä»£ç éƒ½ä»é›¶å¼€å§‹ï¼Œå› æ­¤åº“çš„å­˜åœ¨æ„ä¹‰éåŒå¯»å¸¸ã€‚</p>\n<p>æœ¬è´¨ä¸Šæ¥è¯´åº“æ˜¯ä¸€ç§å¯æ‰§è¡Œä»£ç çš„äºŒè¿›åˆ¶å½¢å¼ï¼Œå¯ä»¥è¢«æ“ä½œç³»ç»Ÿè½½å…¥å†…å­˜æ‰§è¡Œã€‚<br />\nåº“æœ‰ä¸¤ç§ï¼šé™æ€åº“ï¼ˆ.aã€.libï¼‰å’ŒåŠ¨æ€åº“ï¼ˆ.soã€.dllï¼‰<br />\nwindows ä¸Šå¯¹åº”çš„æ˜¯.lib .dll<br />\nlinux ä¸Šå¯¹åº”çš„æ˜¯.a .so</p>\n<p>è¶…è¯¦ç»†å†…å®¹:<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20va2luZy1scHMvcC83NzU3OTE5Lmh0bWw=\">https://www.cnblogs.com/king-lps/p/7757919.html</span></p>\n<h1 id=\"ä»£ç å¤ç”¨çš„å®ç°\"><a class=\"anchor\" href=\"#ä»£ç å¤ç”¨çš„å®ç°\">#</a> ä»£ç å¤ç”¨çš„å®ç°</h1>\n<ol>\n<li>\n<p>é™æ€é“¾æ¥åº“</p>\n</li>\n<li>\n<p>åŠ¨æ€é“¾æ¥åº“</p>\n</li>\n<li>\n<p>ä½¿ç”¨.def å¯¼å‡º</p>\n</li>\n</ol>\n<h1 id=\"é™æ€é“¾æ¥åº“\"><a class=\"anchor\" href=\"#é™æ€é“¾æ¥åº“\">#</a> é™æ€é“¾æ¥åº“</h1>\n<p>ä¾‹å­ä¸ºæ»´æ°´é€†å‘æ•™ç¨‹ä¸­çš„ã€‚</p>\n<h2 id=\"vc60åˆ›å»ºé™æ€é“¾æ¥åº“\"><a class=\"anchor\" href=\"#vc60åˆ›å»ºé™æ€é“¾æ¥åº“\">#</a> VC6.0 åˆ›å»ºé™æ€é“¾æ¥åº“</h2>\n<ol>\n<li>åœ¨ VC6 ä¸­åˆ›å»ºé¡¹ç›®ï¼šWin32 Static Library</li>\n</ol>\n<p><img data-src=\"image001.png\" alt=\"\" /></p>\n<ol start=\"2\">\n<li>åœ¨é¡¹ç›®ä¸­åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶ï¼šxxx.h å’Œ xxx.cpp</li>\n</ol>\n<p>xxx.h æ–‡ä»¶ï¼š</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">if</span> <span class=\"token expression\"><span class=\"token operator\">!</span><span class=\"token function\">defined</span><span class=\"token punctuation\">(</span>AFX_TEST_H__DB32E837_3E66_4BE7_B873_C079BC621AF0__INCLUDED_<span class=\"token punctuation\">)</span></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">AFX_TEST_H__DB32E837_3E66_4BE7_B873_C079BC621AF0__INCLUDED_</span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">if</span> <span class=\"token expression\">_MSC_VER <span class=\"token operator\">></span> <span class=\"token number\">1000</span></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">pragma</span> <span class=\"token expression\">once</span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">endif</span> <span class=\"token comment\">// _MSC_VER > 1000</span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">Plus</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">Sub</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">Mul</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">Div</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">endif</span></span></pre></td></tr></table></figure><p>xxx.cpp æ–‡ä»¶ï¼š</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">Plus</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token keyword\">return</span> x<span class=\"token operator\">+</span>y<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">Sub</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token keyword\">return</span> x<span class=\"token operator\">-</span>y<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">Mul</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">return</span> x<span class=\"token operator\">*</span>y<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">Div</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token keyword\">return</span> x<span class=\"token operator\">/</span>y<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ol start=\"3\">\n<li>ç¼–è¯‘</li>\n</ol>\n<h2 id=\"ä½¿ç”¨é™æ€é“¾æ¥åº“\"><a class=\"anchor\" href=\"#ä½¿ç”¨é™æ€é“¾æ¥åº“\">#</a> ä½¿ç”¨é™æ€é“¾æ¥åº“</h2>\n<p>æ–¹å¼ä¸€ï¼š</p>\n<p>å°† xxx.h å’Œ xxx.lib å¤åˆ¶åˆ°è¦ä½¿ç”¨çš„é¡¹ç›®ä¸­</p>\n<p><img data-src=\"image003.png\" alt=\"\" /></p>\n<p>åœ¨éœ€è¦ä½¿ç”¨çš„æ–‡ä»¶ä¸­åŒ…å«ï¼š#include &quot;xxx.h&quot;</p>\n<p>åœ¨éœ€è¦ä½¿ç”¨çš„æ–‡ä»¶ä¸­åŒ…å«ï¼š#pragma comment (lib, &quot;xxx.lib&quot;)</p>\n<p><img data-src=\"image004.png\" alt=\"\" /></p>\n<p>æ–¹å¼äºŒï¼š</p>\n<p>å°† xxx.h å’Œ xxx.lib å¤åˆ¶åˆ°è¦ä½¿ç”¨çš„é¡¹ç›®ä¸­</p>\n<p>åœ¨éœ€è¦ä½¿ç”¨çš„æ–‡ä»¶ä¸­åŒ…å«ï¼š#include &quot;xxx.h&quot;</p>\n<p>éœ€è¦è®©ç¼–è¯‘å™¨è‡ªå·± LINK&quot;lib åº“&quot;<br />\n<img data-src=\"image005.png\" alt=\"\" /><br />\n<img data-src=\"image006.png\" alt=\"\" /><br />\n<img data-src=\"image007.png\" alt=\"\" /></p>\n<h1 id=\"åŠ¨æ€é“¾æ¥åº“\"><a class=\"anchor\" href=\"#åŠ¨æ€é“¾æ¥åº“\">#</a> åŠ¨æ€é“¾æ¥åº“</h1>\n<h2 id=\"åˆ›å»ºdll\"><a class=\"anchor\" href=\"#åˆ›å»ºdll\">#</a> åˆ›å»º DLL</h2>\n<ol>\n<li>\n<p>åœ¨ VC6 ä¸­åˆ›å»ºé¡¹ç›®ï¼šwin32 Dynamic-link library</p>\n</li>\n<li>\n<p>æºæ–‡ä»¶ä¸­ï¼š</p>\n</li>\n</ol>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">int</span> __stdcall <span class=\"token function\">Plus</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token keyword\">return</span> x<span class=\"token operator\">+</span>y<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">int</span> __stdcall <span class=\"token function\">Sub</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token keyword\">return</span> x<span class=\"token operator\">-</span>y<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">int</span> __stdcall <span class=\"token function\">Mul</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token keyword\">return</span> x<span class=\"token operator\">*</span>y<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">int</span> __stdcall <span class=\"token function\">Div</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  <span class=\"token keyword\">return</span> x<span class=\"token operator\">/</span>y<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><ol start=\"3\">\n<li>å¤´æ–‡ä»¶ä¸­</li>\n</ol>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token function\">_declspec</span><span class=\"token punctuation\">(</span>dllexport<span class=\"token punctuation\">)</span> __stdcall <span class=\"token keyword\">int</span> <span class=\"token function\">Plus</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token function\">_declspec</span><span class=\"token punctuation\">(</span>dllexport<span class=\"token punctuation\">)</span> __stdcall <span class=\"token keyword\">int</span> <span class=\"token function\">Sub</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token function\">_declspec</span><span class=\"token punctuation\">(</span>dllexport<span class=\"token punctuation\">)</span> __stdcall <span class=\"token keyword\">int</span> <span class=\"token function\">Mul</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token function\">_declspec</span><span class=\"token punctuation\">(</span>dllexport<span class=\"token punctuation\">)</span> __stdcall <span class=\"token keyword\">int</span> <span class=\"token function\">Div</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><ol start=\"4\">\n<li>ç¼–è¯‘</li>\n</ol>\n<p>è¯´æ˜:</p>\n<p>1ã€extern è¡¨ç¤ºè¿™æ˜¯ä¸ªå…¨å±€å‡½æ•°ï¼Œå¯ä»¥ä¾›å„ä¸ªå…¶ä»–çš„å‡½æ•°è°ƒç”¨ï¼›</p>\n<p>2ã€&quot;C&quot; æŒ‰ç…§ C è¯­è¨€çš„æ–¹å¼è¿›è¡Œç¼–è¯‘ã€é“¾æ¥ï¼› __declspec (dllexport) å‘Šè¯‰ç¼–è¯‘å™¨æ­¤å‡½æ•°ä¸ºå¯¼å‡ºå‡½æ•°ï¼›__stdcall æ˜¯ä¸ºäº†ä¿æŒå¯¼å‡ºä¸å¯¼å…¥æ—¶å‡½æ•°è°ƒç”¨è§„åˆ™ä¸€è‡´ï¼Œè¦ä¹ˆéƒ½åŠ ï¼Œè¦ä¹ˆéƒ½ä¸åŠ ã€‚</p>\n<h2 id=\"ä½¿ç”¨dll\"><a class=\"anchor\" href=\"#ä½¿ç”¨dll\">#</a> ä½¿ç”¨ DLL</h2>\n<h3 id=\"æ–¹å¼ä¸€éšå¼è¿æ¥\"><a class=\"anchor\" href=\"#æ–¹å¼ä¸€éšå¼è¿æ¥\">#</a> æ–¹å¼ä¸€ï¼šéšå¼è¿æ¥</h3>\n<p>æ­¥éª¤ 1ï¼šå°† *.dll  *.lib æ”¾åˆ°å·¥ç¨‹ç›®å½•ä¸‹é¢</p>\n<p><img data-src=\"image008.png\" alt=\"\" /></p>\n<p>æ­¥éª¤ 2ï¼šå°† #pragma comment (lib,&quot;DLL å.lib&quot;) æ·»åŠ åˆ°è°ƒç”¨æ–‡ä»¶ä¸­</p>\n<p>æ­¥éª¤ 3ï¼šåŠ å…¥å‡½æ•°çš„å£°æ˜</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token function\">__declspec</span><span class=\"token punctuation\">(</span>dllimport<span class=\"token punctuation\">)</span> __stdcall <span class=\"token keyword\">int</span> <span class=\"token function\">Plus</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token function\">__declspec</span><span class=\"token punctuation\">(</span>dllimport<span class=\"token punctuation\">)</span> __stdcall <span class=\"token keyword\">int</span> <span class=\"token function\">Sub</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token function\">__declspec</span><span class=\"token punctuation\">(</span>dllimport<span class=\"token punctuation\">)</span> __stdcall <span class=\"token keyword\">int</span> <span class=\"token function\">Mul</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token function\">__declspec</span><span class=\"token punctuation\">(</span>dllimport<span class=\"token punctuation\">)</span> __stdcall <span class=\"token keyword\">int</span> <span class=\"token function\">Div</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p>\n<p>__declspec (dllimport) å‘Šè¯‰ç¼–è¯‘å™¨æ­¤å‡½æ•°ä¸ºå¯¼å…¥å‡½æ•°ï¼›</p>\n<p>ç»“æœï¼š</p>\n<p><img data-src=\"image009.png\" alt=\"\" /></p>\n<h3 id=\"æ–¹å¼äºŒæ˜¾ç¤ºè¿æ¥\"><a class=\"anchor\" href=\"#æ–¹å¼äºŒæ˜¾ç¤ºè¿æ¥\">#</a> æ–¹å¼äºŒï¼šæ˜¾ç¤ºè¿æ¥</h3>\n<p>æ­¥éª¤ 1ï¼š // å®šä¹‰å‡½æ•°æŒ‡é’ˆ</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">typedef</span> <span class=\"token keyword\">int</span> <span class=\"token punctuation\">(</span>__stdcall <span class=\"token operator\">*</span>lpPlus<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\t<span class=\"token keyword\">typedef</span> <span class=\"token keyword\">int</span> <span class=\"token punctuation\">(</span>__stdcall <span class=\"token operator\">*</span>lpSub<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token keyword\">typedef</span> <span class=\"token keyword\">int</span> <span class=\"token punctuation\">(</span>__stdcall <span class=\"token operator\">*</span>lpMul<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token keyword\">typedef</span> <span class=\"token keyword\">int</span> <span class=\"token punctuation\">(</span>__stdcall <span class=\"token operator\">*</span>lpDiv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>æ­¥éª¤ 2ï¼š  // å£°æ˜å‡½æ•°æŒ‡é’ˆå˜é‡</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>lpPlus myPlus<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>lpSub mySub<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>lpMul myMul<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>lpDiv myDiv<span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>æ­¥éª¤ 3ï¼š  //\t// åŠ¨æ€åŠ è½½ dll åˆ°å†…å­˜ä¸­</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>HINSTANCE   hModule <span class=\"token operator\">=</span> <span class=\"token function\">LoadLibrary</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Dllå.dll\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>æ­¥éª¤ 4ï¼š  // è·å–å‡½æ•°åœ°å€</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>myPlus <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>lpPlus<span class=\"token punctuation\">)</span><span class=\"token function\">GetProcAddress</span><span class=\"token punctuation\">(</span>hModule<span class=\"token punctuation\">,</span>   <span class=\"token string\">\"å‡½æ•°å\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\tmySub <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>lpSub<span class=\"token punctuation\">)</span><span class=\"token function\">GetProcAddress</span><span class=\"token punctuation\">(</span>hModule<span class=\"token punctuation\">,</span>   <span class=\"token string\">\"å‡½æ•°å\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\tmyMul <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>lpMul<span class=\"token punctuation\">)</span><span class=\"token function\">GetProcAddress</span><span class=\"token punctuation\">(</span>hModule<span class=\"token punctuation\">,</span>   <span class=\"token string\">\"å‡½æ•°å\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\tmyDiv <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>lpDiv<span class=\"token punctuation\">)</span><span class=\"token function\">GetProcAddress</span><span class=\"token punctuation\">(</span>hModule<span class=\"token punctuation\">,</span>   <span class=\"token string\">\"å‡½æ•°å\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>æ­¥éª¤ 5ï¼š\t// è°ƒç”¨å‡½æ•°</p>\n<figure class=\"highlight cpp\"><figcaption data-lang=\"C++\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">int</span> a <span class=\"token operator\">=</span> <span class=\"token function\">myPlus</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\t<span class=\"token keyword\">int</span> b <span class=\"token operator\">=</span> <span class=\"token function\">mySub</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token keyword\">int</span> c <span class=\"token operator\">=</span> <span class=\"token function\">myMul</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token keyword\">int</span> d <span class=\"token operator\">=</span> <span class=\"token function\">myDiv</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p><span class=\"label danger\">ğŸ’”æ³¨æ„</span></p>\n<p><mark>å…³äºåœ¨ DLL ä¸­çš„å‡½æ•°å</mark></p>\n<p>å…¶å®å–å†³äºå‡½æ•°åæ˜¯å¦æ›´æ”¹çš„å…³é”®åœ¨äº ä¸¤ä¸ªå‡½æ•°è½¬å˜å­—__stdcall å’Œ__cdecl<br />\n å¦‚æœä½ ç”¨äº†__stdcall é‚£ dll ä¸­çš„å‡½æ•°å°±ä¼šåœ¨å‡½æ•°åå‰åŠ  &quot;-&quot;, å‡½æ•°åååŠ  &quot;@x&quot;<br />\n è€Œ__cdecl åˆ™ä¸ä¼šå°†å‡½æ•°æ”¹åï¼Œå› ä¸º__cdecl æ˜¯å‡½æ•°ç¼ºçœçš„çŠ¶æ€ï¼Œæ‰€ä»¥åªè¦å°†<br />\n__stdcall åœ¨ä½ çš„å‡½æ•°å£°æ˜ä¸­å»æ‰å°±å¯ä»¥äº†ï¼Œæ›´è¯¦ç»†çš„åŒºåˆ«å¯ä»¥å‚é˜… msdn ä¸­<br />\nçš„å†…å®¹ã€‚</p>\n<p>ç»“æœï¼š</p>\n<p><img data-src=\"image010.png\" alt=\"\" /></p>\n<h1 id=\"å¥æŸ„\"><a class=\"anchor\" href=\"#å¥æŸ„\">#</a> å¥æŸ„</h1>\n<p>Handle æ˜¯ä»£è¡¨ç³»ç»Ÿçš„å†…æ ¸å¯¹è±¡ï¼Œå¦‚æ–‡ä»¶å¥æŸ„ï¼Œçº¿ç¨‹å¥æŸ„ï¼Œè¿›ç¨‹å¥æŸ„ã€‚</p>\n<p>HMODULE æ˜¯ä»£è¡¨åº”ç”¨ç¨‹åºè½½å…¥çš„æ¨¡å—</p>\n<p>HINSTANCE åœ¨ win32 ä¸‹ä¸ HMODULE æ˜¯ç›¸åŒçš„ä¸œè¥¿ Win16 é—ç•™</p>\n<p>HWND æ˜¯çª—å£å¥æŸ„</p>\n<p>å…¶å®å°±æ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•´å‹ (å››ä¸ªå­—èŠ‚),Windows ä¹‹æ‰€ä»¥è¿™æ ·è®¾è®¡æœ‰ 2 ä¸ªç›®çš„ï¼š</p>\n<ol>\n<li>\n<p>å¯è¯»æ€§æ›´å¥½</p>\n</li>\n<li>\n<p>é¿å…åœ¨æ— æ„ä¸­è¿›è¡Œè¿ç®—</p>\n</li>\n</ol>\n",
            "tags": [
                "é™æ€é“¾æ¥åº“",
                "åŠ¨æ€é“¾æ¥åº“",
                "å¥æŸ„"
            ]
        }
    ]
}